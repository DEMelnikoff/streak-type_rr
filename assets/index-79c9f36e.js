(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function de(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(p){o(p)}}function l(c){try{u(n.throw(c))}catch(p){o(p)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const $i=e=>{const t=new Set;do for(const i of Reflect.ownKeys(e))t.add([e,i]);while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};var Se=(e,{include:t,exclude:i}={})=>{const n=r=>{const s=o=>typeof o=="string"?r===o:o.test(r);return t?t.some(s):i?!i.some(s):!0};for(const[r,s]of $i(e.constructor.prototype)){if(s==="constructor"||!n(s))continue;const o=Reflect.getOwnPropertyDescriptor(r,s);o&&typeof o.value=="function"&&(e[s]=e[s].bind(e))}return e},Ki="7.3.1";class W extends Error{constructor(t="The global `jsPsych` variable is no longer available in jsPsych v7."){super(`${t} Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.`),this.name="MigrationError"}}window.jsPsych={get init(){throw new W("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new W},get randomization(){throw new W},get turk(){throw new W},get pluginAPI(){throw new W},get ALL_KEYS(){throw new W('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new W('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};function Ae(e){return[...new Set(e)]}function J(e){if(!e)return e;let t;if(Array.isArray(e)){t=[];for(const i of e)t.push(J(i));return t}else if(typeof e=="object"&&e!==null){t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=J(e[i]));return t}else return e}var Gi=Object.freeze({__proto__:null,unique:Ae,deepCopy:J});class Ue{constructor(t=[]){this.values=t}sum(){let t=0;for(const i of this.values)t+=i;return t}mean(){return this.sum()/this.count()}median(){if(this.values.length===0)return;const t=this.values.slice(0).sort(function(r,s){return r-s}),i=Math.floor(t.length/2);return t.length%2===0?(t[i]+t[i-1])/2:t[i]}min(){return Math.min.apply(null,this.values)}max(){return Math.max.apply(null,this.values)}count(){return this.values.length}variance(){const t=this.mean();let i=0;for(const r of this.values)i+=Math.pow(r-t,2);return i/(this.values.length-1)}sd(){const t=this.variance();return Math.sqrt(t)}frequencies(){const t={};for(const i of this.values)typeof t[i]>"u"?t[i]=1:t[i]++;return t}all(t){for(const i of this.values)if(!t(i))return!1;return!0}subset(t){const i=[];for(const n of this.values)t(n)&&i.push(n);return new Ue(i)}}function Vi(e,t){const i=new Blob([e],{type:"text/plain"});let n="";typeof window.webkitURL<"u"?n=window.webkitURL.createObjectURL(i):n=window.URL.createObjectURL(i);const r=document.createElement("a");r.id="jspsych-download-as-text-link",r.style.display="none",r.download=t,r.href=n,r.click()}function Ui(e){const t=typeof e!="object"?JSON.parse(e):e;let i="",n="";const r=[];for(const s of t)for(const o in s){let a=o+"";a='"'+a.replace(/"/g,'""')+'",',r.includes(o)||(r.push(o),i+=a)}i=i.slice(0,-1),n+=i+`\r
`;for(const s of t){i="";for(const o of r){let a=typeof s[o]>"u"?"":s[o];typeof a=="object"&&(a=JSON.stringify(a));const l=a+"";i+='"'+l.replace(/"/g,'""')+'",'}i=i.slice(0,-1),n+=i+`\r
`}return n}function Wi(){const e=window.location.search.substr(1).split("&"),t={};for(let i=0;i<e.length;++i){const n=e[i].split("=",2);n.length==1?t[n[0]]="":t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}return t}class R{constructor(t=[]){this.trials=t}push(t){return this.trials.push(t),this}join(t){return this.trials=this.trials.concat(t.values()),this}top(){return this.trials.length<=1?this:new R([this.trials[this.trials.length-1]])}first(t=1){if(t<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new R:(t>this.trials.length&&(t=this.trials.length),new R(this.trials.slice(0,t)))}last(t=1){if(t<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new R:(t>this.trials.length&&(t=this.trials.length),new R(this.trials.slice(this.trials.length-t,this.trials.length)))}values(){return this.trials}count(){return this.trials.length}readOnly(){return new R(J(this.trials))}addToAll(t){for(const i of this.trials)Object.assign(i,t);return this}addToLast(t){return this.trials.length!=0&&Object.assign(this.trials[this.trials.length-1],t),this}filter(t){let i;Array.isArray(t)?i=J(t):i=J([t]);const n=[];for(const r of this.trials){let s=!1;for(const o of i){let a=!0;for(const l of Object.keys(o))typeof r[l]<"u"&&r[l]===o[l]||(a=!1);if(a){s=!0;break}}s&&n.push(r)}return new R(n)}filterCustom(t){return new R(this.trials.filter(t))}filterColumns(t){return new R(this.trials.map(i=>Object.fromEntries(t.filter(n=>n in i).map(n=>[n,i[n]]))))}select(t){const i=[];for(const n of this.trials)typeof n[t]<"u"&&i.push(n[t]);return new Ue(i)}ignore(t){Array.isArray(t)||(t=[t]);const i=J(this.trials);for(const n of i)for(const r of t)delete n[r];return new R(i)}uniqueNames(){const t=[];for(const i of this.trials)for(const n of Object.keys(i))t.includes(n)||t.push(n);return t}csv(){return Ui(this.trials)}json(t=!1){return t?JSON.stringify(this.trials,null,"	"):JSON.stringify(this.trials)}localSave(t,i){t=t.toLowerCase();let n;if(t==="json")n=this.json();else if(t==="csv")n=this.csv();else throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');Vi(n,i)}}class Qi{constructor(t){this.jsPsych=t,this.dataProperties={},this.reset()}reset(){this.allData=new R,this.interactionData=new R}get(){return this.allData}getInteractionData(){return this.interactionData}write(t){const i=this.jsPsych.getProgress(),n=this.jsPsych.getCurrentTrial(),r={trial_type:n.type.info.name,trial_index:i.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},t),n.data),r),this.dataProperties))}addProperties(t){this.allData.addToAll(t),this.dataProperties=Object.assign({},this.dataProperties,t)}addDataToLastTrial(t){this.allData.addToLast(t)}getDataByTimelineNode(t){return this.allData.filterCustom(i=>i.internal_node_id.slice(0,t.length)===t)}getLastTrialData(){return this.allData.top()}getLastTimelineData(){const i=this.getLastTrialData().select("internal_node_id").values[0];if(typeof i>"u")return new R;{const n=i.substr(0,i.lastIndexOf("-"));return this.getDataByTimelineNode(n)}}displayData(t="json"){t=t.toLowerCase(),t!="json"&&t!="csv"&&(console.log("Invalid format declared for displayData function. Using json as default."),t="json");const i=t==="json"?this.allData.json(!0):this.allData.csv(),n=this.jsPsych.getDisplayElement();n.innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=i}urlVariables(){return typeof this.query_string>"u"&&(this.query_string=Wi()),this.query_string}getURLVariable(t){return this.urlVariables()[t]}createInteractionListeners(){window.addEventListener("blur",()=>{const i={event:"blur",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(i),this.jsPsych.getInitSettings().on_interaction_data_update(i)}),window.addEventListener("focus",()=>{const i={event:"focus",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(i),this.jsPsych.getInitSettings().on_interaction_data_update(i)});const t=()=>{const i={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(i),this.jsPsych.getInitSettings().on_interaction_data_update(i)};document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t)}_customInsert(t){this.allData=new R(t)}_fullreset(){this.reset(),this.dataProperties={}}}class Ji{constructor(){this.hardwareConnected=!1,document.addEventListener("jspsych-activate",t=>{this.hardwareConnected=!0})}hardware(t){const i=new CustomEvent("jspsych",{detail:t});document.dispatchEvent(i)}}class Xi{constructor(t,i=!1,n=0){this.getRootElement=t,this.areResponsesCaseSensitive=i,this.minimumValidRt=n,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,Se(this),this.registerRootListeners()}registerRootListeners(){if(!this.areRootListenersRegistered){const t=this.getRootElement();t&&(t.addEventListener("keydown",this.rootKeydownListener),t.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}rootKeydownListener(t){for(const i of Array.from(this.listeners))i(t);this.heldKeys.add(this.toLowerCaseIfInsensitive(t.key))}toLowerCaseIfInsensitive(t){return this.areResponsesCaseSensitive?t:t.toLowerCase()}rootKeyupListener(t){this.heldKeys.delete(this.toLowerCaseIfInsensitive(t.key))}isResponseValid(t,i,n){return!i&&this.heldKeys.has(n)?!1:t==="ALL_KEYS"?!0:t==="NO_KEYS"?!1:t.includes(n)}getKeyboardResponse({callback_function:t,valid_responses:i="ALL_KEYS",rt_method:n="performance",persist:r,audio_context:s,audio_context_start_time:o,allow_held_key:a=!1,minimum_valid_rt:l=this.minimumValidRt}){n!=="performance"&&n!=="audio"&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),n="performance");const c=n==="performance"?performance.now():o*1e3;this.registerRootListeners(),!this.areResponsesCaseSensitive&&typeof i!="string"&&(i=i.map(d=>d.toLowerCase()));const p=d=>{const f=Math.round((n=="performance"?performance.now():s.currentTime*1e3)-c);if(f<l)return;const y=this.toLowerCaseIfInsensitive(d.key);this.isResponseValid(i,a,y)&&(d.preventDefault(),r||this.cancelKeyboardResponse(p),t({key:y,rt:f}))};return this.listeners.add(p),p}cancelKeyboardResponse(t){this.listeners.delete(t)}cancelAllKeyboardResponses(){this.listeners.clear()}compareKeys(t,i){if(typeof t!="string"&&t!==null||typeof i!="string"&&i!==null){console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.");return}return typeof t=="string"&&typeof i=="string"?this.areResponsesCaseSensitive?t===i:t.toLowerCase()===i.toLowerCase():t===null&&i===null}}var h;(function(e){e[e.BOOL=0]="BOOL",e[e.STRING=1]="STRING",e[e.INT=2]="INT",e[e.FLOAT=3]="FLOAT",e[e.FUNCTION=4]="FUNCTION",e[e.KEY=5]="KEY",e[e.KEYS=6]="KEYS",e[e.SELECT=7]="SELECT",e[e.HTML_STRING=8]="HTML_STRING",e[e.IMAGE=9]="IMAGE",e[e.AUDIO=10]="AUDIO",e[e.VIDEO=11]="VIDEO",e[e.OBJECT=12]="OBJECT",e[e.COMPLEX=13]="COMPLEX",e[e.TIMELINE=14]="TIMELINE"})(h||(h={}));const ot={data:{type:h.OBJECT,pretty_name:"Data",default:{}},on_start:{type:h.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:h.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:h.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:h.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:h.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:h.COMPLEX,default:null}},at=[h.AUDIO,h.IMAGE,h.VIDEO];class Zi{constructor(t,i){this.useWebaudio=t,this.webaudioContext=i,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}getVideoBuffer(t){return t.startsWith("blob:")&&(this.video_buffers[t]=t),this.video_buffers[t]}initAudio(){this.context=this.useWebaudio?this.webaudioContext:null}audioContext(){return this.context!==null&&this.context.state!=="running"&&this.context.resume(),this.context}getAudioBuffer(t){return new Promise((i,n)=>{typeof this.audio_buffers[t]>"u"||this.audio_buffers[t]=="tmp"?this.preloadAudio([t],()=>{i(this.audio_buffers[t])},()=>{},r=>{n(r.error)}):i(this.audio_buffers[t])})}preloadAudio(t,i=()=>{},n=s=>{},r=s=>{}){t=Ae(t.flat());let s=0;if(t.length==0){i();return}const o=(l,u=1)=>{const c=new XMLHttpRequest;c.open("GET",l,!0),c.responseType="arraybuffer",c.onload=()=>{this.context.decodeAudioData(c.response,p=>{this.audio_buffers[l]=p,s++,n(l),s==t.length&&i()},p=>{r({source:l,error:p})})},c.onerror=p=>{let d=p;c.status==404&&(d="404"),r({source:l,error:d})},c.onloadend=p=>{c.status==404&&r({source:l,error:"404"})},c.send(),this.preload_requests.push(c)},a=(l,u=1)=>{const c=new Audio,p=()=>{this.audio_buffers[l]=c,s++,n(l),s==t.length&&i(),c.removeEventListener("canplaythrough",p)};c.addEventListener("canplaythrough",p),c.addEventListener("error",function d(f){r({source:c.src,error:f}),c.removeEventListener("error",d)}),c.addEventListener("abort",function d(f){r({source:c.src,error:f}),c.removeEventListener("abort",d)}),c.src=l,this.preload_requests.push(c)};for(const l of t)typeof this.audio_buffers[l]<"u"?(s++,n(l),s==t.length&&i()):(this.audio_buffers[l]="tmp",this.audioContext()!==null?o(l):a(l))}preloadImages(t,i=()=>{},n=s=>{},r=s=>{}){t=Ae(t.flat());var s=0;if(t.length===0){i();return}for(let o=0;o<t.length;o++){const a=new Image,l=t[o];a.onload=()=>{s++,n(l),s===t.length&&i()},a.onerror=u=>{r({source:l,error:u})},a.src=l,this.img_cache[l]=a,this.preload_requests.push(a)}}preloadVideo(t,i=()=>{},n=s=>{},r=s=>{}){t=Ae(t.flat());let s=0;if(t.length===0){i();return}for(const o of t){const a=this.video_buffers,l=new XMLHttpRequest;l.open("GET",o,!0),l.responseType="blob",l.onload=()=>{if(l.status===200||l.status===0){const u=l.response;a[o]=URL.createObjectURL(u),s++,n(o),s===t.length&&i()}},l.onerror=u=>{let c=u;l.status==404&&(c="404"),r({source:o,error:c})},l.onloadend=u=>{l.status==404&&r({source:o,error:"404"})},l.send(),this.preload_requests.push(l)}}getAutoPreloadList(t){const i=Object.fromEntries(at.map(r=>[r,new Set])),n=(r,s)=>{var o,a,l,u;if(typeof r.timeline<"u")for(const p of r.timeline)n(p,(o=r.type)!==null&&o!==void 0?o:s);else if(!((l=(a=r.type)!==null&&a!==void 0?a:s)===null||l===void 0)&&l.info){const{name:p,parameters:d}=((u=r.type)!==null&&u!==void 0?u:s).info;this.preloadMap.has(p)||this.preloadMap.set(p,Object.fromEntries(Object.entries(d).filter(([f,{type:y,preload:m}])=>at.includes(y)&&(m??!0)).map(([f,{type:y}])=>[f,y])));for(const[f,y]of Object.entries(this.preloadMap.get(p))){const m=r[f],g=i[y];if(typeof m=="string")g.add(m);else if(Array.isArray(m))for(const b of m.flat())typeof b=="string"&&g.add(b)}}};return n({timeline:t}),{images:[...i[h.IMAGE]],audio:[...i[h.AUDIO]],video:[...i[h.VIDEO]]}}cancelPreloads(){for(const t of this.preload_requests)t.onload=()=>{},t.onerror=()=>{},t.oncanplaythrough=()=>{},t.onabort=()=>{};this.preload_requests=[]}initializeMicrophoneRecorder(t){const i=new MediaRecorder(t);this.microphone_recorder=i}getMicrophoneRecorder(){return this.microphone_recorder}initializeCameraRecorder(t,i){this.camera_stream=t;const n=new MediaRecorder(t,i);this.camera_recorder=n}getCameraStream(){return this.camera_stream}getCameraRecorder(){return this.camera_recorder}}class en{dispatchEvent(t){document.body.dispatchEvent(t)}keyDown(t){this.dispatchEvent(new KeyboardEvent("keydown",{key:t}))}keyUp(t){this.dispatchEvent(new KeyboardEvent("keyup",{key:t}))}pressKey(t,i=0){i>0?setTimeout(()=>{this.keyDown(t),this.keyUp(t)},i):(this.keyDown(t),this.keyUp(t))}clickTarget(t,i=0){i>0?setTimeout(()=>{t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},i):(t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}fillTextInput(t,i,n=0){n>0?setTimeout(()=>{t.value=i},n):t.value=i}getValidKey(t){const i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];let n;if(t=="NO_KEYS")n=null;else if(t=="ALL_KEYS")n=i[Math.floor(Math.random()*i.length)];else{const r=t.flat();n=r[Math.floor(Math.random()*r.length)]}return n}mergeSimulationData(t,i){return Object.assign(Object.assign({},t),i?.data)}ensureSimulationDataConsistency(t,i){if(i.rt&&(i.rt=Math.round(i.rt)),t.trial_duration&&i.rt&&i.rt>t.trial_duration&&(i.rt=null,i.response&&(i.response=null),i.correct&&(i.correct=!1)),t.choices&&t.choices=="NO_KEYS"&&(i.rt&&(i.rt=null),i.response&&(i.response=null)),t.allow_response_before_complete&&t.sequence_reps&&t.frame_time){const n=t.sequence_reps*t.frame_time*t.stimuli.length;i.rt<n&&(i.rt=null,i.response=null)}}}class tn{constructor(){this.timeout_handlers=[]}setTimeout(t,i){const n=window.setTimeout(t,i);return this.timeout_handlers.push(n),n}clearAllTimeouts(){for(const t of this.timeout_handlers)clearTimeout(t);this.timeout_handlers=[]}}function nn(e){const t=e.getInitSettings();return Object.assign({},...[new Xi(e.getDisplayContainerElement,t.case_sensitive_responses,t.minimum_valid_rt),new tn,new Zi(t.use_webaudio,e.webaudio_context),new Ji,new en].map(i=>Se(i)))}var De=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function Tt(e){function t(){return e&&e.maxLength>1?i():n()}function i(){for(var c=!1,p;!c;)p=n(),p.length<=e.maxLength&&(c=!0);return p}function n(){return De[r(De.length)]}function r(c){return Math.floor(Math.random()*c)}if(typeof e>"u")return t();typeof e=="number"&&(e={exactly:e}),e.exactly&&(e.min=e.exactly,e.max=e.exactly),typeof e.wordsPerString!="number"&&(e.wordsPerString=1),typeof e.formatter!="function"&&(e.formatter=c=>c),typeof e.separator!="string"&&(e.separator=" ");for(var s=e.min+r(e.max+1-e.min),o=[],a="",l=0,u=0;u<s*e.wordsPerString;u++)l===e.wordsPerString-1?a+=e.formatter(t(),l):a+=e.formatter(t(),l)+e.separator,l++,(u+1)%e.wordsPerString===0&&(o.push(a),a="",l=0);return typeof e.join=="string"&&(o=o.join(e.join)),o}var rn=Tt;Tt.wordList=De;var St={exports:{}};(function(e){(function(t,i,n){function r(l){var u=this,c=a();u.next=function(){var p=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=p-(u.c=p|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function s(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var c=new r(l),p=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,p&&(typeof p=="object"&&s(p,c),d.state=function(){return s(c,{})}),d}function a(){var l=4022871197,u=function(c){c=String(c);for(var p=0;p<c.length;p++){l+=c.charCodeAt(p);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}i&&i.exports?i.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(Yi,e,!1)})(St);var sn=St.exports;function on(e=Math.random().toString()){return Math.random=sn(e),e}function We(e,t,i=!1){const n=Array.isArray(e),r=Array.isArray(t);if(!n)r?(t=[t[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(e=[e],t=[t]);else if(r){if(e.length!=t.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),t.length<e.length){let a=[];for(let l=0;l<e.length;l++)a.push(t);t=a}else t=t.slice(0,e.length)}else{let a=[];for(let l=0;l<e.length;l++)a.push(t);t=a}let s=[];for(let a=0;a<e.length;a++)for(let l=0;l<t[a];l++)e[a]==null||typeof e[a]!="object"?s.push(e[a]):s.push(Object.assign({},e[a]));let o=X(s);return i&&(o=mn(o)),o}function X(e){Array.isArray(e)||console.error("Argument to shuffle() must be an array.");const t=e.slice(0);let i=t.length,n,r;for(;i;)r=Math.floor(Math.random()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}function an(e,t){Array.isArray(e)||console.error("First argument to shuffleNoRepeats() must be an array."),typeof t<"u"&&typeof t!="function"&&console.error("Second argument to shuffleNoRepeats() must be a function."),typeof t>"u"&&(t=function(n,r){return n===r});const i=X(e);for(let n=0;n<i.length-1;n++)if(t(i[n],i[n+1])){let r=Math.floor(Math.random()*(i.length-2))+1;for(;t(i[n+1],i[r])||t(i[n+1],i[r+1])||t(i[n+1],i[r-1])||t(i[n],i[r]);)r=Math.floor(Math.random()*(i.length-2))+1;const s=i[r];i[r]=i[n+1],i[n+1]=s}return i}function jt(e,t=!1){const i=e.length;if(i==1)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),X(e[0]);let n=[];for(let a=0;a<i;a++)n.push(a);t&&(n=X(n));const r=[];let s=null;for(let a=0;a<i;a++)s=s===null?e[a].length:Math.min(s,e[a].length),r.push(X(e[a]));const o=[];for(let a=0;a<s;a++)for(let l=0;l<n.length;l++)o.push(r[n[l]][a]);return o}function Pt(e,t){return Array.isArray(e)||console.error("First argument to sampleWithoutReplacement() must be an array"),t>e.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),X(e).slice(0,t)}function It(e,t,i){Array.isArray(e)||console.error("First argument to sampleWithReplacement() must be an array");const n=[];if(typeof i<"u"){i.length!==e.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");let o=0;for(const a of i)o+=a;for(const a of i)n.push(a/o)}else for(let o=0;o<e.length;o++)n.push(1/e.length);const r=[n[0]];for(let o=1;o<n.length;o++)r.push(n[o]+r[o-1]);const s=[];for(let o=0;o<t;o++){const a=Math.random();let l=0;for(;a>r[l];)l++;s.push(e[l])}return s}function ln(e,t=1,i=!1){let n=[{}];for(const[r,s]of Object.entries(e)){const o=[];for(const a of s)for(const l of n)o.push(Object.assign(Object.assign({},l),{[r]:a}));n=o}return We(n,t,i)}function un(e=32){let t="";const i="0123456789abcdefghjklmnopqrstuvwxyz";for(let n=0;n<e;n++)t+=i[Math.floor(Math.random()*i.length)];return t}function cn(e,t){if(t<e)throw new Error("Upper boundary must be less than or equal to lower boundary");return e+Math.floor(Math.random()*(t-e+1))}function pn(e){return Math.random()<=e?1:0}function ze(e,t){return fn()*t+e}function Be(e){return-Math.log(Math.random())/e}function dn(e,t,i,n=!1){let r=ze(e,t)+Be(i);if(n)for(;r<=0;)r=ze(e,t)+Be(i);return r}function hn(e){return rn(e)}function fn(){for(var e=0,t=0;e===0;)e=Math.random();for(;t===0;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}function mn(e){const t={};for(const i of e)for(const n of Object.keys(i))typeof t[n]>"u"&&(t[n]=[]),t[n].push(i[n]);return t}var yn=Object.freeze({__proto__:null,setSeed:on,repeat:We,shuffle:X,shuffleNoRepeats:an,shuffleAlternateGroups:jt,sampleWithoutReplacement:Pt,sampleWithReplacement:It,factorial:ln,randomID:un,randomInt:cn,sampleBernoulli:pn,sampleNormal:ze,sampleExponential:Be,sampleExGaussian:dn,randomWords:hn});function Et(){const e={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},t=function(r,s){s=s.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const o="[\\?&]"+s+"=([^&#]*)",l=new RegExp(o).exec(r);return l==null?"":l[1]},i=t(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map(function(r){e[r]=unescape(t(i,r))}),e.previewMode=e.assignmentId=="ASSIGNMENT_ID_NOT_AVAILABLE",e.outsideTurk=!e.previewMode&&e.hitId===""&&e.assignmentId==""&&e.workerId=="",e}function gn(e){const t=Et(),i=t.assignmentId,n=t.turkSubmitTo;if(!i||!n)return;const r=document.createElement("form");r.method="POST",r.action=n+"/mturk/externalSubmit?assignmentId="+i;for(const s in e)if(e.hasOwnProperty(s)){const o=document.createElement("input");o.type="hidden",o.name=s,o.id=s,o.value=e[s],r.appendChild(o)}document.body.appendChild(r),r.submit()}var _n=Object.freeze({__proto__:null,turkInfo:Et,submitToTurk:gn});class je{constructor(t,i,n,r){if(this.jsPsych=t,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=n,this.relative_id=typeof n>"u"?0:r,typeof i.timeline<"u"){this.timeline_parameters={timeline:[],loop_function:i.loop_function,conditional_function:i.conditional_function,sample:i.sample,randomize_order:typeof i.randomize_order>"u"?!1:i.randomize_order,repetitions:typeof i.repetitions>"u"?1:i.repetitions,timeline_variables:typeof i.timeline_variables>"u"?[{}]:i.timeline_variables,on_timeline_finish:i.on_timeline_finish,on_timeline_start:i.on_timeline_start},this.setTimelineVariablesOrder();var s=Object.assign({},i);delete s.timeline,delete s.conditional_function,delete s.loop_function,delete s.randomize_order,delete s.repetitions,delete s.timeline_variables,delete s.sample,delete s.on_timeline_start,delete s.on_timeline_finish,this.node_trial_data=s;for(var o=0;o<i.timeline.length;o++){var a=Object.assign({},s,i.timeline[o]);if(typeof s.data=="object"&&typeof i.timeline[o].data=="object"){var l=Object.assign({},s.data,i.timeline[o].data);a.data=l}this.timeline_parameters.timeline.push(new je(this.jsPsych,a,this,o))}}else typeof i.type>"u"&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(i)),this.trial_parameters=Object.assign({},i)}trial(){return typeof this.timeline_parameters>"u"?J(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}markCurrentTrialComplete(){typeof this.timeline_parameters>"u"?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}nextRepetiton(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}setTimelineVariablesOrder(){const t=this.timeline_parameters;if(!(typeof t>"u"||typeof t.timeline_variables>"u")){for(var i=[],n=0;n<t.timeline_variables.length;n++)i.push(n);typeof t.sample<"u"&&(t.sample.type=="custom"?i=t.sample.fn(i):t.sample.type=="with-replacement"?i=It(i,t.sample.size,t.sample.weights):t.sample.type=="without-replacement"?i=Pt(i,t.sample.size):t.sample.type=="fixed-repetitions"?i=We(i,t.sample.size,!1):t.sample.type=="alternate-groups"?i=jt(t.sample.groups,t.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),t.randomize_order&&(i=X(i)),this.progress.order=i}}nextSet(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}advance(){const t=this.progress,i=this.timeline_parameters,n=this.jsPsych.internal;if(t.done)return!0;if(t.current_location==-1){if(typeof i<"u"){if(typeof i.conditional_function<"u"&&t.current_repetition==0&&t.current_variable_set==0){n.call_immediate=!0;var r=i.conditional_function();if(n.call_immediate=!1,r==!1)return t.done=!0,!0}typeof i.on_timeline_start<"u"&&t.current_variable_set==0&&i.on_timeline_start()}return t.current_location=0,this.advance()}if(typeof i<"u"){for(var s=!1;t.current_location<i.timeline.length&&s==!1;){var o=i.timeline[t.current_location].advance();if(o)t.current_location++;else return s=!0,!1}return t.current_variable_set<t.order.length-1?(this.nextSet(),this.advance()):t.current_repetition<i.repetitions-1?(this.nextRepetiton(),typeof i.on_timeline_finish<"u"&&i.on_timeline_finish(),this.advance()):(typeof i.on_timeline_finish<"u"&&i.on_timeline_finish(),typeof i.loop_function<"u"?(n.call_immediate=!0,i.loop_function(this.generatedData())?(this.reset(),n.call_immediate=!1,this.parent_node.advance()):(t.done=!0,n.call_immediate=!1,!0)):(t.done=!0,!0))}}isComplete(){return this.progress.done}getTimelineVariableValue(t){if(!(typeof this.timeline_parameters>"u")){var i=this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][t];return i}}findTimelineVariable(t){var i=this.getTimelineVariableValue(t);return typeof i>"u"?typeof this.parent_node<"u"?this.parent_node.findTimelineVariable(t):void 0:i}timelineVariable(t){if(typeof this.timeline_parameters>"u"){const n=this.findTimelineVariable(t);return typeof n>"u"&&console.warn("Timeline variable "+t+" not found."),n}else{var i=Math.max(0,this.progress.current_location);i==this.timeline_parameters.timeline.length&&(i=i-1);const n=this.timeline_parameters.timeline[i].timelineVariable(t);return typeof n>"u"&&console.warn("Timeline variable "+t+" not found."),n}}allTimelineVariables(){for(var t=this.allTimelineVariablesNames(),i={},n=0;n<t.length;n++)i[t[n]]=this.timelineVariable(t[n]);return i}allTimelineVariablesNames(t=[]){if(typeof this.timeline_parameters<"u"){t=t.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var i=Math.max(0,this.progress.current_location);return i==this.timeline_parameters.timeline.length&&(i=i-1),this.timeline_parameters.timeline[i].allTimelineVariablesNames(t)}if(typeof this.timeline_parameters>"u")return t}length(){var t=0;if(typeof this.timeline_parameters<"u")for(var i=0;i<this.timeline_parameters.timeline.length;i++)t+=this.timeline_parameters.timeline[i].length();else return 1;return t}percentComplete(){for(var t=this.length(),i=0,n=0;n<this.timeline_parameters.timeline.length;n++)this.timeline_parameters.timeline[n].isComplete()&&(i+=this.timeline_parameters.timeline[n].length());return i/t*100}reset(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),typeof this.timeline_parameters<"u")for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}end(){this.progress.done=!0}endActiveNode(){typeof this.timeline_parameters>"u"?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}ID(){var t="";return typeof this.parent_node>"u"?"0."+this.progress.current_iteration:(t+=this.parent_node.ID()+"-",t+=this.relative_id+"."+this.progress.current_iteration,t)}activeID(){return typeof this.timeline_parameters>"u"?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}generatedData(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}trialsOfType(t){if(typeof this.timeline_parameters>"u")return this.trial_parameters.type==t?this.trial_parameters:[];for(var i=[],n=0;n<this.timeline_parameters.timeline.length;n++){var r=this.timeline_parameters.timeline[n].trialsOfType(t);i=i.concat(r)}return i}insert(t){typeof this.timeline_parameters>"u"?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new je(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),t),this,this.timeline_parameters.timeline.length))}}function vn(e){return new Promise(t=>setTimeout(t,e))}class bn{constructor(t){this.extensions={},this.turk=_n,this.randomization=yn,this.utils=Gi,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,t=Object.assign({display_element:void 0,on_finish:()=>{},on_trial_start:()=>{},on_trial_finish:()=>{},on_data_update:()=>{},on_interaction_data_update:()=>{},on_close:()=>{},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},t),this.opts=t,Se(this),this.webaudio_context=typeof window<"u"&&typeof window.AudioContext<"u"?new AudioContext:null,window.location.protocol=="file:"&&(t.override_safe_mode===!1||typeof t.override_safe_mode>"u")&&(t.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new Qi(this),this.pluginAPI=nn(this);for(const i of t.extensions)this.extensions[i.type.info.name]=new i.type(this);this.pluginAPI.initAudio()}version(){return Ki}run(t){return de(this,void 0,void 0,function*(){typeof t>"u"&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),t.length===0&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=t,this.timeline=new je(this,{timeline:t}),yield this.prepareDom(),yield this.checkExclusions(this.opts.exclusions),yield this.loadExtensions(this.opts.extensions),document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),yield this.finished})}simulate(t,i="data-only",n={}){return de(this,void 0,void 0,function*(){this.simulation_mode=i,this.simulation_options=n,yield this.run(t)})}getProgress(){return{total_trials:typeof this.timeline>"u"?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:typeof this.timeline>"u"?0:this.timeline.percentComplete()}}getStartTime(){return this.exp_start_time}getTotalTime(){return typeof this.exp_start_time>"u"?0:new Date().getTime()-this.exp_start_time.getTime()}getDisplayElement(){return this.DOM_target}getDisplayContainerElement(){return this.DOM_container}finishTrial(t={}){var i;if(this.current_trial_finished)return;this.current_trial_finished=!0,typeof this.current_trial.css_classes<"u"&&Array.isArray(this.current_trial.css_classes)&&this.DOM_target.classList.remove(...this.current_trial.css_classes),this.data.write(t);const r=this.data.getLastTrialData().values()[0],s=this.current_trial;if(typeof s.save_trial_parameters=="object")for(const l of Object.keys(s.save_trial_parameters)){const u=s.save_trial_parameters[l];u===!0&&(typeof s[l]>"u"?console.warn(`Invalid parameter specified in save_trial_parameters. Trial has no property called "${l}".`):typeof s[l]=="function"?r[l]=s[l].toString():r[l]=s[l]),u===!1&&l!=="internal_node_id"&&l!=="trial_index"&&delete r[l]}const o=((i=s.extensions)!==null&&i!==void 0?i:[]).map(l=>this.extensions[l.type.info.name].on_finish(l.params)),a=()=>{this.internal.call_immediate=!0,typeof s.on_finish=="function"&&s.on_finish(r),this.opts.on_trial_finish(r),this.opts.on_data_update(r),this.internal.call_immediate=!1,this.simulation_mode==="data-only"?this.nextTrial():typeof s.post_trial_gap===null||typeof s.post_trial_gap>"u"?this.opts.default_iti>0?setTimeout(this.nextTrial,this.opts.default_iti):this.nextTrial():s.post_trial_gap>0?setTimeout(this.nextTrial,s.post_trial_gap):this.nextTrial()};if(o.some(l=>typeof l.then=="function"))Promise.all(o.map(l=>Promise.resolve(l).then(u=>{Object.assign(r,u)}))).then(a);else{for(const l of o)Object.assign(r,l);a()}}endExperiment(t="",i={}){this.timeline.end_message=t,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(i)}endCurrentTimeline(){this.timeline.endActiveNode()}getCurrentTrial(){return this.current_trial}getInitSettings(){return this.opts}getCurrentTimelineNodeID(){return this.timeline.activeID()}timelineVariable(t,i=!1){return this.internal.call_immediate||i===!0?this.timeline.timelineVariable(t):{timelineVariablePlaceholder:!0,timelineVariableFunction:()=>this.timeline.timelineVariable(t)}}getAllTimelineVariables(){return this.timeline.allTimelineVariables()}addNodeToEndOfTimeline(t,i){this.timeline.insert(t)}pauseExperiment(){this.paused=!0}resumeExperiment(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}loadFail(t){t=t||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=t}getSafeModeStatus(){return this.file_protocol}getTimeline(){return this.timelineDescription}prepareDom(){return de(this,void 0,void 0,function*(){document.readyState!=="complete"&&(yield new Promise(i=>{window.addEventListener("load",i)}));const t=this.opts;if(typeof t.display_element>"u")document.querySelector("body")===null&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",t.display_element=document.querySelector("body");else{const i=t.display_element instanceof Element?t.display_element:document.querySelector("#"+t.display_element);i===null?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):t.display_element=i}t.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=t.display_element,this.DOM_target=document.querySelector("#jspsych-content"),t.experiment_width!==null&&(this.DOM_target.style.width=t.experiment_width+"px"),t.display_element.tabIndex=0,t.display_element.className.indexOf("jspsych-display-element")===-1&&(t.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",t.on_close)})}loadExtensions(t){return de(this,void 0,void 0,function*(){try{yield Promise.all(t.map(i=>this.extensions[i.type.info.name].initialize(i.params||{})))}catch(i){throw console.error(i),new Error(i)}})}startExperiment(){this.finished=new Promise(t=>{this.resolveFinishedPromise=t}),this.opts.show_progress_bar===!0&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}finishExperiment(){const t=this.opts.on_finish(this.data.get()),i=()=>{typeof this.timeline.end_message<"u"&&(this.DOM_target.innerHTML=this.timeline.end_message),this.resolveFinishedPromise()};t?Promise.resolve(t).then(i):i()}nextTrial(){if(this.paused){this.waiting=!0;return}this.global_trial_index++,this.timeline.markCurrentTrialComplete();const t=this.timeline.advance();if(this.opts.show_progress_bar===!0&&this.opts.auto_update_progress_bar===!0&&this.updateProgressBar(),t){this.finishExperiment();return}this.doTrial(this.timeline.trial())}doTrial(t){if(this.current_trial=t,this.current_trial_finished=!1,this.evaluateTimelineVariables(t),typeof t.type=="string")throw new W("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(t.type=Object.assign(Object.assign({},Se(new t.type(this))),{info:t.type.info}),this.evaluateFunctionParameters(t),this.setDefaultValues(t),this.internal.call_immediate=!0,this.opts.on_trial_start(t),typeof t.on_start=="function"&&t.on_start(t),Array.isArray(t.extensions))for(const s of t.extensions)this.extensions[s.type.info.name].on_start(s.params);this.DOM_container.focus(),this.DOM_target.scrollTop=0,typeof t.css_classes<"u"&&(!Array.isArray(t.css_classes)&&typeof t.css_classes=="string"&&(t.css_classes=[t.css_classes]),Array.isArray(t.css_classes)&&this.DOM_target.classList.add(...t.css_classes));const i=()=>{if(typeof t.on_load=="function"&&t.on_load(),Array.isArray(t.extensions))for(const s of t.extensions)this.extensions[s.type.info.name].on_load(s.params)};let n;if(this.simulation_mode||(n=t.type.trial(this.DOM_target,t,i)),this.simulation_mode)if(t.type.simulate){let s;t.simulation_options||(s=this.simulation_options.default),t.simulation_options&&(typeof t.simulation_options=="string"?this.simulation_options[t.simulation_options]?s=this.simulation_options[t.simulation_options]:this.simulation_options.default?(console.log(`No matching simulation options found for "${t.simulation_options}". Using "default" options.`),s=this.simulation_options.default):(console.log(`No matching simulation options found for "${t.simulation_options}" and no "default" options provided. Using the default values provided by the plugin.`),s={}):s=t.simulation_options),s=this.utils.deepCopy(s),s=this.replaceFunctionsWithValues(s,null),s?.simulate===!1?n=t.type.trial(this.DOM_target,t,i):n=t.type.simulate(t,s?.mode||this.simulation_mode,s,i)}else n=t.type.trial(this.DOM_target,t,i);!(n&&typeof n.then=="function")&&!this.simulation_mode&&i(),this.internal.call_immediate=!1}evaluateTimelineVariables(t){for(const i of Object.keys(t))typeof t[i]=="object"&&t[i]!==null&&typeof t[i].timelineVariablePlaceholder<"u"&&(t[i]=t[i].timelineVariableFunction()),typeof t[i]=="object"&&t[i]!==null&&i!=="timeline"&&i!=="timeline_variables"&&this.evaluateTimelineVariables(t[i])}evaluateFunctionParameters(t){this.internal.call_immediate=!0;for(const i of Object.keys(t))i!=="type"&&(typeof ot[i]<"u"&&ot[i].type!==h.FUNCTION&&(t[i]=this.replaceFunctionsWithValues(t[i],null)),typeof t.type.info.parameters[i]<"u"&&t.type.info.parameters[i].type!==h.FUNCTION&&(t[i]=this.replaceFunctionsWithValues(t[i],t.type.info.parameters[i])));this.internal.call_immediate=!1}replaceFunctionsWithValues(t,i){if(t===null)return t;if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=this.replaceFunctionsWithValues(t[n],i);else if(typeof t=="object")if(i===null||!i.nested)for(const n of Object.keys(t))n==="type"||n==="timeline"||n==="timeline_variables"||(t[n]=this.replaceFunctionsWithValues(t[n],null));else for(const n of Object.keys(t))typeof i.nested[n]=="object"&&i.nested[n].type!==h.FUNCTION&&(t[n]=this.replaceFunctionsWithValues(t[n],i.nested[n]));else if(typeof t=="function")return t();return t}setDefaultValues(t){for(const i in t.type.info.parameters)t.type.info.parameters[i].type===h.COMPLEX?t.type.info.parameters[i].array===!0&&t[i].forEach(function(n,r){for(const s in t.type.info.parameters[i].nested)(typeof t[i][r][s]>"u"||t[i][r][s]===null)&&(typeof t.type.info.parameters[i].nested[s].default>"u"?console.error("You must specify a value for the "+s+" parameter (nested in the "+i+" parameter) in the "+t.type+" plugin."):t[i][r][s]=t.type.info.parameters[i].nested[s].default)}):(typeof t[i]>"u"||t[i]===null)&&(typeof t.type.info.parameters[i].default>"u"?console.error("You must specify a value for the "+i+" parameter in the "+t.type.info.name+" plugin."):t[i]=t.type.info.parameters[i].default)}checkExclusions(t){return de(this,void 0,void 0,function*(){if((t.min_width||t.min_height||t.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),t.min_width||t.min_height){const i=t.min_width||0,n=t.min_height||0;if(window.innerWidth<i||window.innerHeight<n){for(this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+i+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+n+"px. Your current height is "+window.innerHeight+"px.</p>";window.innerWidth<i||window.innerHeight<n;)yield vn(100);this.getDisplayElement().innerHTML=""}}if(typeof t.audio<"u"&&t.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error})}drawProgressBar(t){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+t+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}updateProgressBar(){this.setProgressBar(this.getProgress().percent_complete/100)}setProgressBar(t){t=Math.max(Math.min(1,t),0),document.querySelector("#jspsych-progressbar-inner").style.width=t*100+"%",this.progress_bar_amount=t}getProgressBarCompleted(){return this.progress_bar_amount}}typeof window<"u"&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext);function wn(e){const t=new bn(e);return Object.defineProperties(t,Object.fromEntries(Object.entries({init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."}).map(([n,r])=>[n,{get(){throw new W(r)}}]))),t}Math.floor(Math.random()*2),Array("easy","hard")[Math.floor(Math.random()*2)],Math.floor(Math.random()*2);const V=jsPsych=wn({on_finish:()=>{}});function xe(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(p){o(p)}}function l(c){try{u(n.throw(c))}catch(p){o(p)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const xn={name:"pipe",parameters:{experiment_id:{type:h.STRING,default:void 0},action:{type:h.STRING,default:void 0},filename:{type:h.STRING,default:null},data_string:{type:h.STRING,default:null}}};class ue{constructor(t){this.jsPsych=t}trial(t,i){this.run(t,i)}run(t,i){return xe(this,void 0,void 0,function*(){const r=`
      <style>
      .spinner {
        animation: rotate 2s linear infinite;
        z-index: 2;
        position: absolute;
        top: 50%;
        left: 50%;
        margin: -25px 0 0 -25px;
        width: 50px;
        height: 50px;
      }
        
      .spinner .path {
        stroke: rgb(25,25,25);
        stroke-linecap: round;
        animation: dash 1.5s ease-in-out infinite;
      }

      @keyframes rotate {
        100% {
          transform: rotate(360deg);
        }
      }
      
      @keyframes dash {
        0% {
          stroke-dasharray: 1, 150;
          stroke-dashoffset: 0;
        }
        50% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -35;
        }
        100% {
          stroke-dasharray: 90, 150;
          stroke-dashoffset: -124;
        }
      }
    </style>
      <svg class="spinner" viewBox="0 0 50 50">
        <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
      </svg>`;t.innerHTML=r;let s;i.action==="save"&&(s=yield ue.saveData(i.experiment_id,i.filename,i.data_string)),i.action==="saveBase64"&&(s=yield ue.saveBase64Data(i.experiment_id,i.filename,i.data_string)),i.action==="condition"&&(s=yield ue.getCondition(i.experiment_id)),t.innerHTML="";var o={result:s,success:!s.error};this.jsPsych.finishTrial(o)})}static saveData(t,i,n){return xe(this,void 0,void 0,function*(){if(!t||!i||!n)throw new Error("Missing required parameter(s).");let r;try{r=yield fetch("https://pipe.jspsych.org/api/data/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify({experimentID:t,filename:i,data:n})})}catch(s){return s}return yield r.json()})}static saveBase64Data(t,i,n){return xe(this,void 0,void 0,function*(){if(!t||!i||!n)throw new Error("Missing required parameter(s).");let r;try{r=yield fetch("https://pipe.jspsych.org/api/base64/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify({experimentID:t,filename:i,data:n})})}catch(s){return s}return yield r.json()})}static getCondition(t){return xe(this,void 0,void 0,function*(){if(!t)throw new Error("Missing required parameter(s).");let i;try{i=yield fetch("https://pipe.jspsych.org/api/condition/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify({experimentID:t})})}catch(r){return r}return(yield i.json()).condition})}}ue.info=xn;const kn={name:"survey-likert",parameters:{questions:{type:h.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:void 0},labels:{type:h.STRING,array:!0,pretty_name:"Labels",default:void 0},required:{type:h.BOOL,pretty_name:"Required",default:!1},name:{type:h.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:h.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:h.HTML_STRING,pretty_name:"Preamble",default:null},scale_width:{type:h.INT,pretty_name:"Scale width",default:null},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:h.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class _e{constructor(t){this.jsPsych=t}trial(t,i){if(i.scale_width!==null)var n=i.scale_width+"px";else var n="100%";var r="";r+='<style id="jspsych-survey-likert-css">',r+=".jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:"+n+"; margin:auto; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }",r+="</style>",i.preamble!==null&&(r+='<div id="jspsych-survey-likert-preamble" class="jspsych-survey-likert-preamble">'+i.preamble+"</div>"),i.autocomplete?r+='<form id="jspsych-survey-likert-form">':r+='<form id="jspsych-survey-likert-form" autocomplete="off">';for(var s=[],o=0;o<i.questions.length;o++)s.push(o);i.randomize_question_order&&(s=this.jsPsych.randomization.shuffle(s));for(var o=0;o<i.questions.length;o++){var a=i.questions[s[o]];r+='<label class="jspsych-survey-likert-statement">'+a.prompt+"</label>";for(var l=100/a.labels.length,u='<ul class="jspsych-survey-likert-opts" data-name="'+a.name+'" data-radio-group="Q'+s[o]+'">',c=0;c<a.labels.length;c++)u+='<li style="width:'+l+'%"><label class="jspsych-survey-likert-opt-label"><input type="radio" name="Q'+s[o]+'" value="'+c+'"',a.required&&(u+=" required"),u+=">"+a.labels[c]+"</label></li>";u+="</ul>",r+=u}r+='<input type="submit" id="jspsych-survey-likert-next" class="jspsych-survey-likert jspsych-btn" value="'+i.button_label+'"></input>',r+="</form>",t.innerHTML=r,t.querySelector("#jspsych-survey-likert-form").addEventListener("submit",d=>{d.preventDefault();for(var f=performance.now(),y=Math.round(f-p),m={},g=t.querySelectorAll("#jspsych-survey-likert-form .jspsych-survey-likert-opts"),b=0;b<g.length;b++){var v=g[b].dataset.radioGroup,T=t.querySelector('input[name="'+v+'"]:checked');if(T===null)var A="";else var A=parseInt(T.value);var x={};if(g[b].attributes["data-name"].value!=="")var S=g[b].attributes["data-name"].value;else var S=v;x[S]=A,Object.assign(m,x)}var P={rt:y,response:m,question_order:s};t.innerHTML="",this.jsPsych.finishTrial(P)});var p=performance.now()}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={};let r=1e3;for(const a of t.questions){const l=a.name?a.name:`Q${t.questions.indexOf(a)}`;n[l]=this.jsPsych.randomization.randomInt(0,a.labels.length-1),r+=this.jsPsych.randomization.sampleExGaussian(1500,400,1/200,!0)}const s={response:n,rt:r,question_order:t.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(t.questions.length).keys()]):[...Array(t.questions.length).keys()]},o=this.jsPsych.pluginAPI.mergeSimulationData(s,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,o),o}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=Object.entries(r.response);for(let a=0;a<o.length;a++)this.jsPsych.pluginAPI.clickTarget(s.querySelector(`input[type="radio"][name="${o[a][0]}"][value="${o[a][1]}"]`),(r.rt-1e3)/o.length*(a+1));this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-survey-likert-next"),r.rt)}}_e.info=kn;const An={name:"survey-multi-choice",parameters:{questions:{type:h.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:void 0},options:{type:h.STRING,pretty_name:"Options",array:!0,default:void 0},required:{type:h.BOOL,pretty_name:"Required",default:!1},horizontal:{type:h.BOOL,pretty_name:"Horizontal",default:!1},name:{type:h.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:h.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:h.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:h.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class Qe{constructor(t){this.jsPsych=t}trial(t,i){var n="jspsych-survey-multi-choice",r="";r+='<style id="jspsych-survey-multi-choice-css">',r+=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}",r+="</style>",i.preamble!==null&&(r+='<div id="jspsych-survey-multi-choice-preamble" class="jspsych-survey-multi-choice-preamble">'+i.preamble+"</div>"),i.autocomplete?r+='<form id="jspsych-survey-multi-choice-form">':r+='<form id="jspsych-survey-multi-choice-form" autocomplete="off">';for(var s=[],o=0;o<i.questions.length;o++)s.push(o);i.randomize_question_order&&(s=this.jsPsych.randomization.shuffle(s));for(var o=0;o<i.questions.length;o++){var a=i.questions[s[o]],l=s[o],u=["jspsych-survey-multi-choice-question"];a.horizontal&&u.push("jspsych-survey-multi-choice-horizontal"),r+='<div id="jspsych-survey-multi-choice-'+l+'" class="'+u.join(" ")+'"  data-name="'+a.name+'">',r+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+a.prompt,a.required&&(r+="<span class='required'>*</span>"),r+="</p>";for(var c=0;c<a.options.length;c++){var p="jspsych-survey-multi-choice-option-"+l+"-"+c,d="jspsych-survey-multi-choice-response-"+l,f="jspsych-survey-multi-choice-response-"+l+"-"+c,y=a.required?"required":"";r+='<div id="'+p+'" class="jspsych-survey-multi-choice-option">',r+='<label class="jspsych-survey-multi-choice-text" for="'+f+'">',r+='<input type="radio" name="'+d+'" id="'+f+'" value="'+a.options[c]+'" '+y+"></input>",r+=a.options[c]+"</label>",r+="</div>"}r+="</div>"}r+='<input type="submit" id="'+n+'-next" class="'+n+' jspsych-btn"'+(i.button_label?' value="'+i.button_label+'"':"")+"></input>",r+="</form>",t.innerHTML=r,document.querySelector("form").addEventListener("submit",g=>{g.preventDefault();for(var b=performance.now(),v=Math.round(b-m),T={},A=0;A<i.questions.length;A++){var x=t.querySelector("#jspsych-survey-multi-choice-"+A),S="Q"+A,P;x.querySelector("input[type=radio]:checked")!==null?P=x.querySelector("input[type=radio]:checked").value:P="";var j={},z=S;x.attributes["data-name"].value!==""&&(z=x.attributes["data-name"].value),j[z]=P,Object.assign(T,j)}var H={rt:v,response:T,question_order:s};t.innerHTML="",this.jsPsych.finishTrial(H)});var m=performance.now()}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={};let r=1e3;for(const a of t.questions){const l=a.name?a.name:`Q${t.questions.indexOf(a)}`;n[l]=this.jsPsych.randomization.sampleWithoutReplacement(a.options,1)[0],r+=this.jsPsych.randomization.sampleExGaussian(1500,400,1/200,!0)}const s={response:n,rt:r,question_order:t.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(t.questions.length).keys()]):[...Array(t.questions.length).keys()]},o=this.jsPsych.pluginAPI.mergeSimulationData(s,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,o),o}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=Object.entries(r.response);for(let a=0;a<o.length;a++)this.jsPsych.pluginAPI.clickTarget(s.querySelector(`#jspsych-survey-multi-choice-response-${a}-${t.questions[a].options.indexOf(o[a][1])}`),(r.rt-1e3)/o.length*(a+1));this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-survey-multi-choice-next"),r.rt)}}Qe.info=An;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Ot(e){return typeof e>"u"||e===null}function Tn(e){return typeof e=="object"&&e!==null}function Sn(e){return Array.isArray(e)?e:Ot(e)?[]:[e]}function jn(e,t){var i,n,r,s;if(t)for(s=Object.keys(t),i=0,n=s.length;i<n;i+=1)r=s[i],e[r]=t[r];return e}function Pn(e,t){var i="",n;for(n=0;n<t;n+=1)i+=e;return i}function In(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var En=Ot,On=Tn,Ln=Sn,Cn=Pn,Mn=In,Nn=jn,L={isNothing:En,isObject:On,toArray:Ln,repeat:Cn,isNegativeZero:Mn,extend:Nn};function Lt(e,t){var i="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(i+='in "'+e.mark.name+'" '),i+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(i+=`

`+e.mark.snippet),n+" "+i):n}function fe(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Lt(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}fe.prototype=Object.create(Error.prototype);fe.prototype.constructor=fe;fe.prototype.toString=function(t){return this.name+": "+Lt(this,t)};var F=fe;function Ne(e,t,i,n,r){var s="",o="",a=Math.floor(r/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),i-n>a&&(o=" ...",i=n+a-o.length),{str:s+e.slice(t,i).replace(/\t/g,"")+o,pos:n-t+s.length}}function Re(e,t){return L.repeat(" ",t-e.length)+e}function Rn(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var i=/\r?\n|\r|\0/g,n=[0],r=[],s,o=-1;s=i.exec(e.buffer);)r.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,u,c=Math.min(e.line+t.linesAfter,r.length).toString().length,p=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)u=Ne(e.buffer,n[o-l],r[o-l],e.position-(n[o]-n[o-l]),p),a=L.repeat(" ",t.indent)+Re((e.line-l+1).toString(),c)+" | "+u.str+`
`+a;for(u=Ne(e.buffer,n[o],r[o],e.position,p),a+=L.repeat(" ",t.indent)+Re((e.line+1).toString(),c)+" | "+u.str+`
`,a+=L.repeat("-",t.indent+c+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=r.length);l++)u=Ne(e.buffer,n[o+l],r[o+l],e.position-(n[o]-n[o+l]),p),a+=L.repeat(" ",t.indent)+Re((e.line+l+1).toString(),c)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var Fn=Rn,qn=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Dn=["scalar","sequence","mapping"];function zn(e){var t={};return e!==null&&Object.keys(e).forEach(function(i){e[i].forEach(function(n){t[String(n)]=i})}),t}function Bn(e,t){if(t=t||{},Object.keys(t).forEach(function(i){if(qn.indexOf(i)===-1)throw new F('Unknown option "'+i+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(i){return i},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=zn(t.styleAliases||null),Dn.indexOf(this.kind)===-1)throw new F('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var C=Bn;function lt(e,t){var i=[];return e[t].forEach(function(n){var r=i.length;i.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(r=o)}),i[r]=n}),i}function Hn(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,i;function n(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,i=arguments.length;t<i;t+=1)arguments[t].forEach(n);return e}function He(e){return this.extend(e)}He.prototype.extend=function(t){var i=[],n=[];if(t instanceof C)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(i=i.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new F("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(s){if(!(s instanceof C))throw new F("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new F("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new F("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof C))throw new F("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(He.prototype);return r.implicit=(this.implicit||[]).concat(i),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=lt(r,"implicit"),r.compiledExplicit=lt(r,"explicit"),r.compiledTypeMap=Hn(r.compiledImplicit,r.compiledExplicit),r};var Ct=He,Mt=new C("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Nt=new C("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Rt=new C("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ft=new Ct({explicit:[Mt,Nt,Rt]});function Yn(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function $n(){return null}function Kn(e){return e===null}var qt=new C("tag:yaml.org,2002:null",{kind:"scalar",resolve:Yn,construct:$n,predicate:Kn,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Gn(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Vn(e){return e==="true"||e==="True"||e==="TRUE"}function Un(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Dt=new C("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Gn,construct:Vn,predicate:Un,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Wn(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Qn(e){return 48<=e&&e<=55}function Jn(e){return 48<=e&&e<=57}function Xn(e){if(e===null)return!1;var t=e.length,i=0,n=!1,r;if(!t)return!1;if(r=e[i],(r==="-"||r==="+")&&(r=e[++i]),r==="0"){if(i+1===t)return!0;if(r=e[++i],r==="b"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(r!=="0"&&r!=="1")return!1;n=!0}return n&&r!=="_"}if(r==="x"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(!Wn(e.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}if(r==="o"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(!Qn(e.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}}if(r==="_")return!1;for(;i<t;i++)if(r=e[i],r!=="_"){if(!Jn(e.charCodeAt(i)))return!1;n=!0}return!(!n||r==="_")}function Zn(e){var t=e,i=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(i=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return i*parseInt(t.slice(2),2);if(t[1]==="x")return i*parseInt(t.slice(2),16);if(t[1]==="o")return i*parseInt(t.slice(2),8)}return i*parseInt(t,10)}function er(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!L.isNegativeZero(e)}var zt=new C("tag:yaml.org,2002:int",{kind:"scalar",resolve:Xn,construct:Zn,predicate:er,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),tr=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ir(e){return!(e===null||!tr.test(e)||e[e.length-1]==="_")}function nr(e){var t,i;return t=e.replace(/_/g,"").toLowerCase(),i=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:i*parseFloat(t,10)}var rr=/^[-+]?[0-9]+e/;function sr(e,t){var i;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(L.isNegativeZero(e))return"-0.0";return i=e.toString(10),rr.test(i)?i.replace("e",".e"):i}function or(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||L.isNegativeZero(e))}var Bt=new C("tag:yaml.org,2002:float",{kind:"scalar",resolve:ir,construct:nr,predicate:or,represent:sr,defaultStyle:"lowercase"}),Ht=Ft.extend({implicit:[qt,Dt,zt,Bt]}),Yt=Ht,$t=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Kt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ar(e){return e===null?!1:$t.exec(e)!==null||Kt.exec(e)!==null}function lr(e){var t,i,n,r,s,o,a,l=0,u=null,c,p,d;if(t=$t.exec(e),t===null&&(t=Kt.exec(e)),t===null)throw new Error("Date resolve error");if(i=+t[1],n=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(i,n,r));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=+t[10],p=+(t[11]||0),u=(c*60+p)*6e4,t[9]==="-"&&(u=-u)),d=new Date(Date.UTC(i,n,r,s,o,a,l)),u&&d.setTime(d.getTime()-u),d}function ur(e){return e.toISOString()}var Gt=new C("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ar,construct:lr,instanceOf:Date,represent:ur});function cr(e){return e==="<<"||e===null}var Vt=new C("tag:yaml.org,2002:merge",{kind:"scalar",resolve:cr}),Je=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function pr(e){if(e===null)return!1;var t,i,n=0,r=e.length,s=Je;for(i=0;i<r;i++)if(t=s.indexOf(e.charAt(i)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function dr(e){var t,i,n=e.replace(/[\r\n=]/g,""),r=n.length,s=Je,o=0,a=[];for(t=0;t<r;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return i=r%4*6,i===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):i===18?(a.push(o>>10&255),a.push(o>>2&255)):i===12&&a.push(o>>4&255),new Uint8Array(a)}function hr(e){var t="",i=0,n,r,s=e.length,o=Je;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[i>>18&63],t+=o[i>>12&63],t+=o[i>>6&63],t+=o[i&63]),i=(i<<8)+e[n];return r=s%3,r===0?(t+=o[i>>18&63],t+=o[i>>12&63],t+=o[i>>6&63],t+=o[i&63]):r===2?(t+=o[i>>10&63],t+=o[i>>4&63],t+=o[i<<2&63],t+=o[64]):r===1&&(t+=o[i>>2&63],t+=o[i<<4&63],t+=o[64],t+=o[64]),t}function fr(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Ut=new C("tag:yaml.org,2002:binary",{kind:"scalar",resolve:pr,construct:dr,predicate:fr,represent:hr}),mr=Object.prototype.hasOwnProperty,yr=Object.prototype.toString;function gr(e){if(e===null)return!0;var t=[],i,n,r,s,o,a=e;for(i=0,n=a.length;i<n;i+=1){if(r=a[i],o=!1,yr.call(r)!=="[object Object]")return!1;for(s in r)if(mr.call(r,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function _r(e){return e!==null?e:[]}var Wt=new C("tag:yaml.org,2002:omap",{kind:"sequence",resolve:gr,construct:_r}),vr=Object.prototype.toString;function br(e){if(e===null)return!0;var t,i,n,r,s,o=e;for(s=new Array(o.length),t=0,i=o.length;t<i;t+=1){if(n=o[t],vr.call(n)!=="[object Object]"||(r=Object.keys(n),r.length!==1))return!1;s[t]=[r[0],n[r[0]]]}return!0}function wr(e){if(e===null)return[];var t,i,n,r,s,o=e;for(s=new Array(o.length),t=0,i=o.length;t<i;t+=1)n=o[t],r=Object.keys(n),s[t]=[r[0],n[r[0]]];return s}var Qt=new C("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:br,construct:wr}),xr=Object.prototype.hasOwnProperty;function kr(e){if(e===null)return!0;var t,i=e;for(t in i)if(xr.call(i,t)&&i[t]!==null)return!1;return!0}function Ar(e){return e!==null?e:{}}var Jt=new C("tag:yaml.org,2002:set",{kind:"mapping",resolve:kr,construct:Ar}),Xe=Yt.extend({implicit:[Gt,Vt],explicit:[Ut,Wt,Qt,Jt]}),ee=Object.prototype.hasOwnProperty,Pe=1,Xt=2,Zt=3,Ie=4,Fe=1,Tr=2,ut=3,Sr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,jr=/[\x85\u2028\u2029]/,Pr=/[,\[\]\{\}]/,ei=/^(?:!|!!|![a-z\-]+!)$/i,ti=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ct(e){return Object.prototype.toString.call(e)}function G(e){return e===10||e===13}function ne(e){return e===9||e===32}function D(e){return e===9||e===32||e===10||e===13}function ae(e){return e===44||e===91||e===93||e===123||e===125}function Ir(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Er(e){return e===120?2:e===117?4:e===85?8:0}function Or(e){return 48<=e&&e<=57?e-48:-1}function pt(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function Lr(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ii=new Array(256),ni=new Array(256);for(var se=0;se<256;se++)ii[se]=pt(se)?1:0,ni[se]=pt(se);function Cr(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Xe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ri(e,t){var i={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return i.snippet=Fn(i),new F(t,i)}function _(e,t){throw ri(e,t)}function Ee(e,t){e.onWarning&&e.onWarning.call(null,ri(e,t))}var dt={YAML:function(t,i,n){var r,s,o;t.version!==null&&_(t,"duplication of %YAML directive"),n.length!==1&&_(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),r===null&&_(t,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),o=parseInt(r[2],10),s!==1&&_(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Ee(t,"unsupported YAML version of the document")},TAG:function(t,i,n){var r,s;n.length!==2&&_(t,"TAG directive accepts exactly two arguments"),r=n[0],s=n[1],ei.test(r)||_(t,"ill-formed tag handle (first argument) of the TAG directive"),ee.call(t.tagMap,r)&&_(t,'there is a previously declared suffix for "'+r+'" tag handle'),ti.test(s)||_(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{_(t,"tag prefix is malformed: "+s)}t.tagMap[r]=s}};function Z(e,t,i,n){var r,s,o,a;if(t<i){if(a=e.input.slice(t,i),n)for(r=0,s=a.length;r<s;r+=1)o=a.charCodeAt(r),o===9||32<=o&&o<=1114111||_(e,"expected valid JSON character");else Sr.test(a)&&_(e,"the stream contains non-printable characters");e.result+=a}}function ht(e,t,i,n){var r,s,o,a;for(L.isObject(i)||_(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(i),o=0,a=r.length;o<a;o+=1)s=r[o],ee.call(t,s)||(t[s]=i[s],n[s]=!0)}function le(e,t,i,n,r,s,o,a,l){var u,c;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,c=r.length;u<c;u+=1)Array.isArray(r[u])&&_(e,"nested arrays are not supported inside keys"),typeof r=="object"&&ct(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&ct(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)ht(e,t,s[u],i);else ht(e,t,s,i);else!e.json&&!ee.call(i,r)&&ee.call(t,r)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,_(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[r]=s,delete i[r];return t}function Ze(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):_(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function E(e,t,i){for(var n=0,r=e.input.charCodeAt(e.position);r!==0;){for(;ne(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(G(r))for(Ze(e),r=e.input.charCodeAt(e.position),n++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return i!==-1&&n!==0&&e.lineIndent<i&&Ee(e,"deficient indentation"),n}function Ce(e){var t=e.position,i;return i=e.input.charCodeAt(t),!!((i===45||i===46)&&i===e.input.charCodeAt(t+1)&&i===e.input.charCodeAt(t+2)&&(t+=3,i=e.input.charCodeAt(t),i===0||D(i)))}function et(e,t){t===1?e.result+=" ":t>1&&(e.result+=L.repeat(`
`,t-1))}function Mr(e,t,i){var n,r,s,o,a,l,u,c,p=e.kind,d=e.result,f;if(f=e.input.charCodeAt(e.position),D(f)||ae(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(r=e.input.charCodeAt(e.position+1),D(r)||i&&ae(r)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;f!==0;){if(f===58){if(r=e.input.charCodeAt(e.position+1),D(r)||i&&ae(r))break}else if(f===35){if(n=e.input.charCodeAt(e.position-1),D(n))break}else{if(e.position===e.lineStart&&Ce(e)||i&&ae(f))break;if(G(f))if(l=e.line,u=e.lineStart,c=e.lineIndent,E(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=u,e.lineIndent=c;break}}a&&(Z(e,s,o,!1),et(e,e.line-l),s=o=e.position,a=!1),ne(f)||(o=e.position+1),f=e.input.charCodeAt(++e.position)}return Z(e,s,o,!1),e.result?!0:(e.kind=p,e.result=d,!1)}function Nr(e,t){var i,n,r;if(i=e.input.charCodeAt(e.position),i!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(i=e.input.charCodeAt(e.position))!==0;)if(i===39)if(Z(e,n,e.position,!0),i=e.input.charCodeAt(++e.position),i===39)n=e.position,e.position++,r=e.position;else return!0;else G(i)?(Z(e,n,r,!0),et(e,E(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Ce(e)?_(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);_(e,"unexpected end of the stream within a single quoted scalar")}function Rr(e,t){var i,n,r,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Z(e,i,e.position,!0),e.position++,!0;if(a===92){if(Z(e,i,e.position,!0),a=e.input.charCodeAt(++e.position),G(a))E(e,!1,t);else if(a<256&&ii[a])e.result+=ni[a],e.position++;else if((o=Er(a))>0){for(r=o,s=0;r>0;r--)a=e.input.charCodeAt(++e.position),(o=Ir(a))>=0?s=(s<<4)+o:_(e,"expected hexadecimal character");e.result+=Lr(s),e.position++}else _(e,"unknown escape sequence");i=n=e.position}else G(a)?(Z(e,i,n,!0),et(e,E(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Ce(e)?_(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}_(e,"unexpected end of the stream within a double quoted scalar")}function Fr(e,t){var i=!0,n,r,s,o=e.tag,a,l=e.anchor,u,c,p,d,f,y=Object.create(null),m,g,b,v;if(v=e.input.charCodeAt(e.position),v===91)c=93,f=!1,a=[];else if(v===123)c=125,f=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),v=e.input.charCodeAt(++e.position);v!==0;){if(E(e,!0,t),v=e.input.charCodeAt(e.position),v===c)return e.position++,e.tag=o,e.anchor=l,e.kind=f?"mapping":"sequence",e.result=a,!0;i?v===44&&_(e,"expected the node content, but found ','"):_(e,"missed comma between flow collection entries"),g=m=b=null,p=d=!1,v===63&&(u=e.input.charCodeAt(e.position+1),D(u)&&(p=d=!0,e.position++,E(e,!0,t))),n=e.line,r=e.lineStart,s=e.position,ce(e,t,Pe,!1,!0),g=e.tag,m=e.result,E(e,!0,t),v=e.input.charCodeAt(e.position),(d||e.line===n)&&v===58&&(p=!0,v=e.input.charCodeAt(++e.position),E(e,!0,t),ce(e,t,Pe,!1,!0),b=e.result),f?le(e,a,y,g,m,b,n,r,s):p?a.push(le(e,null,y,g,m,b,n,r,s)):a.push(m),E(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(i=!0,v=e.input.charCodeAt(++e.position)):i=!1}_(e,"unexpected end of the stream within a flow collection")}function qr(e,t){var i,n,r=Fe,s=!1,o=!1,a=t,l=0,u=!1,c,p;if(p=e.input.charCodeAt(e.position),p===124)n=!1;else if(p===62)n=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)Fe===r?r=p===43?ut:Tr:_(e,"repeat of a chomping mode identifier");else if((c=Or(p))>=0)c===0?_(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?_(e,"repeat of an indentation width identifier"):(a=t+c-1,o=!0);else break;if(ne(p)){do p=e.input.charCodeAt(++e.position);while(ne(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!G(p)&&p!==0)}for(;p!==0;){for(Ze(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),G(p)){l++;continue}if(e.lineIndent<a){r===ut?e.result+=L.repeat(`
`,s?1+l:l):r===Fe&&s&&(e.result+=`
`);break}for(n?ne(p)?(u=!0,e.result+=L.repeat(`
`,s?1+l:l)):u?(u=!1,e.result+=L.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=L.repeat(`
`,l):e.result+=L.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,i=e.position;!G(p)&&p!==0;)p=e.input.charCodeAt(++e.position);Z(e,i,e.position,!1)}return!0}function ft(e,t){var i,n=e.tag,r=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,_(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!D(o))));){if(a=!0,e.position++,E(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(i=e.line,ce(e,t,Zt,!1,!0),s.push(e.result),E(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>t)&&l!==0)_(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=r,e.kind="sequence",e.result=s,!0):!1}function Dr(e,t,i){var n,r,s,o,a,l,u=e.tag,c=e.anchor,p={},d=Object.create(null),f=null,y=null,m=null,g=!1,b=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),v=e.input.charCodeAt(e.position);v!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,_(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&D(n))v===63?(g&&(le(e,p,d,f,y,null,o,a,l),f=y=m=null),b=!0,g=!0,r=!0):g?(g=!1,r=!0):_(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(o=e.line,a=e.lineStart,l=e.position,!ce(e,i,Xt,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);ne(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),D(v)||_(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(le(e,p,d,f,y,null,o,a,l),f=y=m=null),b=!0,g=!1,r=!1,f=e.tag,y=e.result;else if(b)_(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(b)_(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===s||e.lineIndent>t)&&(g&&(o=e.line,a=e.lineStart,l=e.position),ce(e,t,Ie,!0,r)&&(g?y=e.result:m=e.result),g||(le(e,p,d,f,y,m,o,a,l),f=y=m=null),E(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)_(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&le(e,p,d,f,y,null,o,a,l),b&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=p),b}function zr(e){var t,i=!1,n=!1,r,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&_(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(i=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):_(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!D(o);)o===33&&(n?_(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),ei.test(r)||_(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Pr.test(s)&&_(e,"tag suffix cannot contain flow indicator characters")}s&&!ti.test(s)&&_(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{_(e,"tag name is malformed: "+s)}return i?e.tag=s:ee.call(e.tagMap,r)?e.tag=e.tagMap[r]+s:r==="!"?e.tag="!"+s:r==="!!"?e.tag="tag:yaml.org,2002:"+s:_(e,'undeclared tag handle "'+r+'"'),!0}function Br(e){var t,i;if(i=e.input.charCodeAt(e.position),i!==38)return!1;for(e.anchor!==null&&_(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!D(i)&&!ae(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&_(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Hr(e){var t,i,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!D(n)&&!ae(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&_(e,"name of an alias node must contain at least one character"),i=e.input.slice(t,e.position),ee.call(e.anchorMap,i)||_(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],E(e,!0,-1),!0}function ce(e,t,i,n,r){var s,o,a,l=1,u=!1,c=!1,p,d,f,y,m,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ie===i||Zt===i,n&&E(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;zr(e)||Br(e);)E(e,!0,-1)?(u=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=u||r),(l===1||Ie===i)&&(Pe===i||Xt===i?m=t:m=t+1,g=e.position-e.lineStart,l===1?a&&(ft(e,g)||Dr(e,g,m))||Fr(e,m)?c=!0:(o&&qr(e,m)||Nr(e,m)||Rr(e,m)?c=!0:Hr(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&_(e,"alias node should not have any properties")):Mr(e,m,Pe===i)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(c=a&&ft(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&_(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,d=e.implicitTypes.length;p<d;p+=1)if(y=e.implicitTypes[p],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ee.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,f=e.typeMap.multi[e.kind||"fallback"],p=0,d=f.length;p<d;p+=1)if(e.tag.slice(0,f[p].tag.length)===f[p].tag){y=f[p];break}y||_(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&_(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):_(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function Yr(e){var t=e.position,i,n,r,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(E(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),i=e.position;o!==0&&!D(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(i,e.position),r=[],n.length<1&&_(e,"directive name must not be less than one character in length");o!==0;){for(;ne(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!G(o));break}if(G(o))break;for(i=e.position;o!==0&&!D(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(i,e.position))}o!==0&&Ze(e),ee.call(dt,n)?dt[n](e,n,r):Ee(e,'unknown document directive "'+n+'"')}if(E(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,E(e,!0,-1)):s&&_(e,"directives end mark is expected"),ce(e,e.lineIndent-1,Ie,!1,!0),E(e,!0,-1),e.checkLineBreaks&&jr.test(e.input.slice(t,e.position))&&Ee(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ce(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,E(e,!0,-1));return}if(e.position<e.length-1)_(e,"end of the stream or a document separator is expected");else return}function si(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var i=new Cr(e,t),n=e.indexOf("\0");for(n!==-1&&(i.position=n,_(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)Yr(i);return i.documents}function $r(e,t,i){t!==null&&typeof t=="object"&&typeof i>"u"&&(i=t,t=null);var n=si(e,i);if(typeof t!="function")return n;for(var r=0,s=n.length;r<s;r+=1)t(n[r])}function Kr(e,t){var i=si(e,t);if(i.length!==0){if(i.length===1)return i[0];throw new F("expected a single document in the stream, but found more")}}var Gr=$r,Vr=Kr,oi={loadAll:Gr,load:Vr},ai=Object.prototype.toString,li=Object.prototype.hasOwnProperty,tt=65279,Ur=9,me=10,Wr=13,Qr=32,Jr=33,Xr=34,Ye=35,Zr=37,es=38,ts=39,is=42,ui=44,ns=45,Oe=58,rs=61,ss=62,os=63,as=64,ci=91,pi=93,ls=96,di=123,us=124,hi=125,M={};M[0]="\\0";M[7]="\\a";M[8]="\\b";M[9]="\\t";M[10]="\\n";M[11]="\\v";M[12]="\\f";M[13]="\\r";M[27]="\\e";M[34]='\\"';M[92]="\\\\";M[133]="\\N";M[160]="\\_";M[8232]="\\L";M[8233]="\\P";var cs=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ps=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ds(e,t){var i,n,r,s,o,a,l;if(t===null)return{};for(i={},n=Object.keys(t),r=0,s=n.length;r<s;r+=1)o=n[r],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&li.call(l.styleAliases,a)&&(a=l.styleAliases[a]),i[o]=a;return i}function hs(e){var t,i,n;if(t=e.toString(16).toUpperCase(),e<=255)i="x",n=2;else if(e<=65535)i="u",n=4;else if(e<=4294967295)i="U",n=8;else throw new F("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+L.repeat("0",n-t.length)+t}var fs=1,ye=2;function ms(e){this.schema=e.schema||Xe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=L.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=ds(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ye:fs,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function mt(e,t){for(var i=L.repeat(" ",t),n=0,r=-1,s="",o,a=e.length;n<a;)r=e.indexOf(`
`,n),r===-1?(o=e.slice(n),n=a):(o=e.slice(n,r+1),n=r+1),o.length&&o!==`
`&&(s+=i),s+=o;return s}function $e(e,t){return`
`+L.repeat(" ",e.indent*t)}function ys(e,t){var i,n,r;for(i=0,n=e.implicitTypes.length;i<n;i+=1)if(r=e.implicitTypes[i],r.resolve(t))return!0;return!1}function Le(e){return e===Qr||e===Ur}function ge(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==tt||65536<=e&&e<=1114111}function yt(e){return ge(e)&&e!==tt&&e!==Wr&&e!==me}function gt(e,t,i){var n=yt(e),r=n&&!Le(e);return(i?n:n&&e!==ui&&e!==ci&&e!==pi&&e!==di&&e!==hi)&&e!==Ye&&!(t===Oe&&!r)||yt(t)&&!Le(t)&&e===Ye||t===Oe&&r}function gs(e){return ge(e)&&e!==tt&&!Le(e)&&e!==ns&&e!==os&&e!==Oe&&e!==ui&&e!==ci&&e!==pi&&e!==di&&e!==hi&&e!==Ye&&e!==es&&e!==is&&e!==Jr&&e!==us&&e!==rs&&e!==ss&&e!==ts&&e!==Xr&&e!==Zr&&e!==as&&e!==ls}function _s(e){return!Le(e)&&e!==Oe}function he(e,t){var i=e.charCodeAt(t),n;return i>=55296&&i<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(i-55296)*1024+n-56320+65536:i}function fi(e){var t=/^\n* /;return t.test(e)}var mi=1,Ke=2,yi=3,gi=4,oe=5;function vs(e,t,i,n,r,s,o,a){var l,u=0,c=null,p=!1,d=!1,f=n!==-1,y=-1,m=gs(he(e,0))&&_s(he(e,e.length-1));if(t||o)for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=he(e,l),!ge(u))return oe;m=m&&gt(u,c,a),c=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=he(e,l),u===me)p=!0,f&&(d=d||l-y-1>n&&e[y+1]!==" ",y=l);else if(!ge(u))return oe;m=m&&gt(u,c,a),c=u}d=d||f&&l-y-1>n&&e[y+1]!==" "}return!p&&!d?m&&!o&&!r(e)?mi:s===ye?oe:Ke:i>9&&fi(e)?oe:o?s===ye?oe:Ke:d?gi:yi}function bs(e,t,i,n,r){e.dump=function(){if(t.length===0)return e.quotingType===ye?'""':"''";if(!e.noCompatMode&&(cs.indexOf(t)!==-1||ps.test(t)))return e.quotingType===ye?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,i),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&i>=e.flowLevel;function l(u){return ys(e,u)}switch(vs(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,r)){case mi:return t;case Ke:return"'"+t.replace(/'/g,"''")+"'";case yi:return"|"+_t(t,e.indent)+vt(mt(t,s));case gi:return">"+_t(t,e.indent)+vt(mt(ws(t,o),s));case oe:return'"'+xs(t)+'"';default:throw new F("impossible error: invalid scalar style")}}()}function _t(e,t){var i=fi(e)?String(t):"",n=e[e.length-1]===`
`,r=n&&(e[e.length-2]===`
`||e===`
`),s=r?"+":n?"":"-";return i+s+`
`}function vt(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function ws(e,t){for(var i=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,i.lastIndex=u,bt(e.slice(0,u),t)}(),r=e[0]===`
`||e[0]===" ",s,o;o=i.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!r&&!s&&l!==""?`
`:"")+bt(l,t),r=s}return n}function bt(e,t){if(e===""||e[0]===" ")return e;for(var i=/ [^ ]/g,n,r=0,s,o=0,a=0,l="";n=i.exec(e);)a=n.index,a-r>t&&(s=o>r?o:a,l+=`
`+e.slice(r,s),r=s+1),o=a;return l+=`
`,e.length-r>t&&o>r?l+=e.slice(r,o)+`
`+e.slice(o+1):l+=e.slice(r),l.slice(1)}function xs(e){for(var t="",i=0,n,r=0;r<e.length;i>=65536?r+=2:r++)i=he(e,r),n=M[i],!n&&ge(i)?(t+=e[r],i>=65536&&(t+=e[r+1])):t+=n||hs(i);return t}function ks(e,t,i){var n="",r=e.tag,s,o,a;for(s=0,o=i.length;s<o;s+=1)a=i[s],e.replacer&&(a=e.replacer.call(i,String(s),a)),(Q(e,t,a,!1,!1)||typeof a>"u"&&Q(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=r,e.dump="["+n+"]"}function wt(e,t,i,n){var r="",s=e.tag,o,a,l;for(o=0,a=i.length;o<a;o+=1)l=i[o],e.replacer&&(l=e.replacer.call(i,String(o),l)),(Q(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Q(e,t+1,null,!0,!0,!1,!0))&&((!n||r!=="")&&(r+=$e(e,t)),e.dump&&me===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=s,e.dump=r||"[]"}function As(e,t,i){var n="",r=e.tag,s=Object.keys(i),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",n!==""&&(c+=", "),e.condenseFlow&&(c+='"'),l=s[o],u=i[l],e.replacer&&(u=e.replacer.call(i,l,u)),Q(e,t,l,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Q(e,t,u,!1,!1)&&(c+=e.dump,n+=c));e.tag=r,e.dump="{"+n+"}"}function Ts(e,t,i,n){var r="",s=e.tag,o=Object.keys(i),a,l,u,c,p,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new F("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!n||r!=="")&&(d+=$e(e,t)),u=o[a],c=i[u],e.replacer&&(c=e.replacer.call(i,u,c)),Q(e,t+1,u,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&me===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,p&&(d+=$e(e,t)),Q(e,t+1,c,!0,p)&&(e.dump&&me===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,r+=d));e.tag=s,e.dump=r||"{}"}function xt(e,t,i){var n,r,s,o,a,l;for(r=i?e.explicitTypes:e.implicitTypes,s=0,o=r.length;s<o;s+=1)if(a=r[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(i?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,ai.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(li.call(a.represent,l))n=a.represent[l](t,l);else throw new F("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function Q(e,t,i,n,r,s,o){e.tag=null,e.dump=i,xt(e,i,!1)||xt(e,i,!0);var a=ai.call(e.dump),l=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var c=a==="[object Object]"||a==="[object Array]",p,d;if(c&&(p=e.duplicates.indexOf(i),d=p!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(r=!1),d&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(c&&d&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(Ts(e,t,e.dump,r),d&&(e.dump="&ref_"+p+e.dump)):(As(e,t,e.dump),d&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?wt(e,t-1,e.dump,r):wt(e,t,e.dump,r),d&&(e.dump="&ref_"+p+e.dump)):(ks(e,t,e.dump),d&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&bs(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new F("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function Ss(e,t){var i=[],n=[],r,s;for(Ge(e,i,n),r=0,s=n.length;r<s;r+=1)t.duplicates.push(i[n[r]]);t.usedDuplicates=new Array(s)}function Ge(e,t,i){var n,r,s;if(e!==null&&typeof e=="object")if(r=t.indexOf(e),r!==-1)i.indexOf(r)===-1&&i.push(r);else if(t.push(e),Array.isArray(e))for(r=0,s=e.length;r<s;r+=1)Ge(e[r],t,i);else for(n=Object.keys(e),r=0,s=n.length;r<s;r+=1)Ge(e[n[r]],t,i)}function js(e,t){t=t||{};var i=new ms(t);i.noRefs||Ss(e,i);var n=e;return i.replacer&&(n=i.replacer.call({"":n},"",n)),Q(i,0,n,!0,!0)?i.dump+`
`:""}var Ps=js,Is={dump:Ps};function it(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Es=C,Os=Ct,Ls=Ft,Cs=Ht,Ms=Yt,Ns=Xe,Rs=oi.load,Fs=oi.loadAll,qs=Is.dump,Ds=F,zs={binary:Ut,float:Bt,map:Rt,null:qt,pairs:Qt,set:Jt,timestamp:Gt,bool:Dt,int:zt,merge:Vt,omap:Wt,seq:Nt,str:Mt},Bs=it("safeLoad","load"),Hs=it("safeLoadAll","loadAll"),Ys=it("safeDump","dump"),$s={Type:Es,Schema:Os,FAILSAFE_SCHEMA:Ls,JSON_SCHEMA:Cs,CORE_SCHEMA:Ms,DEFAULT_SCHEMA:Ns,load:Rs,loadAll:Fs,dump:qs,YAMLException:Ds,types:zs,safeLoad:Bs,safeLoadAll:Hs,safeDump:Ys};async function Ks(e){try{const i=await(await fetch(e)).text(),n=$s.load(i);return window.arguments=n,n}catch(t){console.error(t)}}const Gs="abcdefghijklmnopqrstuvwxyz";function Vs(e){let t=[],i=Gs.split("").filter(n=>!"oil".includes(n));return i.forEach(function(n){i.forEach(function(r){const s=`${n},${r}`;t.indexOf(s)===-1&&n!==r&&t.push(s)})}),t=t.sort(()=>.5-Math.random()),t.slice(0,e)}function _i(e){if(e===void 0)return!0;if(e.constructor.name==="Array")return e.length===0?!0:e.every(t=>t===null);if(typeof e=="string")return e===""}function Us(e){let t=document.getElementById(e),i=parseInt(t.innerHTML||5),n=setInterval(function(){i--,i<0?clearInterval(n):t.innerHTML=`${i} sec`},1e3)}const Ws=(e,...t)=>(...i)=>typeof e=="function"&&/^\s*class\s+/.test(e.toString())?new e(...i,...t):e(...i,...t);function Qs(e){let t=e.slice();return t.sort(function(i,n){return parseFloat(i)-parseFloat(n)}),t}function kt(e,t){t=t==="max"?100:t,t=t==="min"?0:t,t=t/100,e=Qs(e);const i=(e.length-1)*t,n=Math.floor(i),r=i-n;return e[n+1]!==void 0?parseFloat(e[n])+r*(parseFloat(e[n+1])-parseFloat(e[n])):parseFloat(e[n])}function Js(e,t){const i={};e.forEach(o=>{Object.keys(o).forEach(a=>{if(t.includes(a)&&typeof o[a]=="number"){i[a]||(i[a]={sum:0,count:0,mean:0,variance:0,stdDev:0,min:o[a],max:o[a]});const l=o[a];i[a].sum+=l,i[a].count++,i[a].mean=i[a].sum/i[a].count,i[a].variance+=(l-i[a].mean)**2,i[a].stdDev=Math.sqrt(i[a].variance/i[a].count),l<i[a].min&&(i[a].min=l),l>i[a].max&&(i[a].max=l)}})});const n=document.createElement("table"),r=n.insertRow(),s=Object.keys(i);return s.unshift("stats"),s.forEach(o=>{const a=document.createElement("th");a.textContent=o,r.appendChild(a)}),["mean","stdDev","min","max"].forEach(o=>{const a=n.insertRow();Object.entries(i).forEach(([l,u],c)=>{if(c==0){const d=a.insertCell();d.textContent=o}const p=a.insertCell();p.textContent=u[o].toFixed(2)})}),Object.entries(i).reduce((o,[a,l])=>(o[a]=l.mean,o),{}),n}function Xs(){document.fullscreenElement||alert("You leave the fullscreen mode, please go to full screen")}function Zs(e){return e.reduce((t,i)=>({...t,...i}),{})}function eo(e){return new Date(e).toISOString().slice(0,10)}function to(e,t){const i=`${e}${t+1}_rt`,n=`${e}${t+1}_typed`,r=`${e}${t+1}_score`,s=`${e}${t+1}_target`;return[i,n,r,s]}function At(e,t){const i=e.filter({phase:t}).values(),n=t==="practice"?"practice":"round",r=i.map((s,o)=>{const[a,l,u,c]=to(n,o);return t==="practice"?{[a]:s.rt_typed,[l]:s.typed,[u]:s.score}:{[a]:s.rt_typed,[l]:s.typed,[u]:s.score,[c]:s.target}});return Zs(r)}function io(e){const t=typeof e!="object"?JSON.parse(e):e;let i="",n="";const r=[];for(const s of t)for(const o in s){let a=o+"";a='"'+a.replace(/"/g,'""')+'",',r.includes(o)||(r.push(o),i+=a)}i=i.slice(0,-1),n+=i+`\r
`;for(const s of t){i="";for(const o of r){let a=typeof s[o]>"u"?"":s[o];typeof a=="object"&&(a=JSON.stringify(a));const l=a+"";i+='"'+l.replace(/"/g,'""')+'",'}i=i.slice(0,-1),n+=i+`\r
`}return n}function no(e){const t=At(e,"practice"),i=At(e,"bonus"),[{gender:n,age:r,suggest:s}]=e.filter({trial_type:"survey-demo"}).select("responses").values,[{date:o,subject_id:a,condition:l,sona_id:u,response:{email:c},totalSuccess:p,totalSuccess_1:d,totalSuccess_2:f,totalBonus_1:y,totalBonus_2:m,totalThrees_1:g,totalThrees_2:b,totalBonus:v,game_1:T,game_2:A}]=e.last().values(),{absorbed_first:x,immersed_first:S,engaged_first:P,engrossed_first:j}=e.filter({trial_type:"survey-likert"}).select("response").values[0],{enjoyable_first:z,like_first:H,dislike_first:U,fun_first:K,entertaining_first:w}=e.filter({trial_type:"survey-likert"}).select("response").values[1],{anxious_first:I,stressed_first:q,onEdge_first:B}=e.filter({trial_type:"survey-likert"}).select("response").values[2],{absorbed_second:be,immersed_second:N,engaged_second:te,engrossed_second:ie}=e.filter({trial_type:"survey-likert"}).select("response").values[3],{enjoyable_second:re,like_second:we,dislike_second:Mi,fun_second:Ni,entertaining_second:Ri}=e.filter({trial_type:"survey-likert"}).select("response").values[4],{anxious_second:Fi,stressed_second:qi,onEdge_second:Di}=e.filter({trial_type:"survey-likert"}).select("response").values[5],{control_1:zi,control_2:Bi,control_3:Hi}=e.filter({trial_type:"survey-likert"}).select("response").values[6];return{subject_id:a,sona_id:u,email:c,date:eo(o),game_1:T,game_2:A,...t,...i,total_earned:v,total_success:p,total_success_1:d,total_success_2:f,total_threes_1:g,total_threes_2:b,total_bonus_1:y,total_bonus_2:m,gender:n,age:r,comment:s,absorbed_1:x,immersed_1:S,engrossed_1:j,engaged_1:P,enjoyable_1:z,like_1:H,dislike_1:U,fun_1:K,entertaining_1:w,anxious_1:I,stressed_1:q,onEdge_1:B,absorbed_2:be,immersed_2:N,engrossed_2:ie,engaged_2:te,enjoyable_2:re,like_2:we,dislike_2:Mi,fun_2:Ni,entertaining_2:Ri,anxious_2:Fi,stressed_2:qi,onEdge_2:Di,control_1:zi,control_2:Bi,control_3:Hi}}function vi(e,t){function i(d){return Math.floor(Math.log(Math.random())/Math.log(1-d))}const n=1-t,r=e=="inverse streak"?20*t:20*(1-t),s=20-r,o=12,a=0;let l=[],u,c,p;if(e!="inverse streak"){for(;c!=s||p>o||p<a;){l=[];for(let d=0;d<r;d++){let f=i(n);l.push(f)}c=l.reduce((d,f)=>d+f,0),p=Math.max(...l)}for(let d=0;d<r;d++)d==0?u=Array(l[d]).fill(-1):u.push(...Array(l[d]).fill(-1)),u.push(1)}else{for(;c!=s||p<-1;){l=[];for(let d=0;d<r;d++){let f=i(t);l.push(f)}c=l.reduce((d,f)=>d+f,0),p=Math.max(...l)}for(let d=0;d<r;d++)d==0?u=Array(l[d]).fill(1):u.push(...Array(l[d]).fill(1)),u.push(-1)}return u}const ro={name:"html-keyboard-response",parameters:{stimulus:{type:h.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:h.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:h.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:h.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:h.BOOL,pretty_name:"Response ends trial",default:!0}}};class ve{constructor(t){this.jsPsych=t}trial(t,i){var n='<div id="jspsych-html-keyboard-response-stimulus">'+i.stimulus+"</div>";i.prompt!==null&&(n+=i.prompt),t.innerHTML=n;var r={rt:null,key:null};const s=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),typeof a<"u"&&this.jsPsych.pluginAPI.cancelKeyboardResponse(a);var l={rt:r.rt,stimulus:i.stimulus,response:r.key};t.innerHTML="",this.jsPsych.finishTrial(l)};var o=l=>{t.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",r.key==null&&(r=l),i.response_ends_trial&&s()};if(i.choices!="NO_KEYS")var a=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:o,valid_responses:i.choices,rt_method:"performance",persist:!1,allow_held_key:!1});i.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{t.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"},i.stimulus_duration),i.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(s,i.trial_duration)}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={stimulus:t.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0),response:this.jsPsych.pluginAPI.getValidKey(t.choices)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n(),r.rt!==null&&this.jsPsych.pluginAPI.pressKey(r.response,r.rt)}}ve.info=ro;const so={name:"preload",parameters:{auto_preload:{type:h.BOOL,pretty_name:"Auto-preload",default:!1},trials:{type:h.TIMELINE,pretty_name:"Trials",default:[]},images:{type:h.STRING,pretty_name:"Images",default:[],array:!0},audio:{type:h.STRING,pretty_name:"Audio",default:[],array:!0},video:{type:h.STRING,pretty_name:"Video",default:[],array:!0},message:{type:h.HTML_STRING,pretty_name:"Message",default:null},show_progress_bar:{type:h.BOOL,pretty_name:"Show progress bar",default:!0},continue_after_error:{type:h.BOOL,pretty_name:"Continue after error",default:!1},error_message:{type:h.HTML_STRING,pretty_name:"Error message",default:"The experiment failed to load."},show_detailed_errors:{type:h.BOOL,pretty_name:"Show detailed errors",default:!1},max_load_time:{type:h.INT,pretty_name:"Max load time",default:null},on_error:{type:h.FUNCTION,pretty_name:"On error",default:null},on_success:{type:h.FUNCTION,pretty_name:"On success",default:null}}};class bi{constructor(t){this.jsPsych=t}trial(t,i){var n=null,r=!1,s=[],o=[],a=[],l=[],u=this.jsPsych.getSafeModeStatus(),c=[],p=[],d=[];if(i.auto_preload){var f=this.jsPsych.getTimeline(),y=this.jsPsych.pluginAPI.getAutoPreloadList(f);c=c.concat(y.images),p=p.concat(y.audio),d=d.concat(y.video)}if(i.trials.length>0){var m=this.jsPsych.pluginAPI.getAutoPreloadList(i.trials);c=c.concat(m.images),p=p.concat(m.audio),d=d.concat(m.video)}c=c.concat(i.images),p=p.concat(i.audio),d=d.concat(i.video),c=this.jsPsych.utils.unique(c.flat()),p=this.jsPsych.utils.unique(p.flat()),d=this.jsPsych.utils.unique(d.flat()),u&&(d=[]);var g="";i.message!==null&&(g+=i.message),i.show_progress_bar&&(g+=`
            <div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd; margin: auto;'>
              <div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>
            </div>`),t.innerHTML=g;const b=()=>{if(P++,i.show_progress_bar){var w=P/S*100,I=t.querySelector("#jspsych-loading-progress-bar");I!==null&&(I.style.width=w+"%")}},v=()=>{typeof r<"u"&&r===!1&&(this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),n=!0,x())},T=()=>{this.jsPsych.pluginAPI.cancelPreloads(),typeof n<"u"&&(n===!1||n===null)&&(r=!0,j<S&&(n=!1),U("timeout"),l.push("<p><strong>Loading timed out.</strong><br>Consider compressing your stimuli files, loading your files in smaller batches,<br>and/or increasing the <i>max_load_time</i> parameter.</p>"),i.continue_after_error?x():A())},A=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),t.innerHTML=i.error_message,i.show_detailed_errors&&(t.innerHTML+="<p><strong>Error details:</strong></p>",l.forEach(w=>{t.innerHTML+=w}))},x=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var w={success:n,timeout:r,failed_images:s,failed_audio:o,failed_video:a};t.innerHTML="",this.jsPsych.finishTrial(w)};i.max_load_time!==null&&this.jsPsych.pluginAPI.setTimeout(T,i.max_load_time);var S=c.length+p.length+d.length,P=0,j=0;if(S==0)v();else{const w=B=>{this.jsPsych.pluginAPI.preloadVideo(d,B,H,z)},I=B=>{this.jsPsych.pluginAPI.preloadAudio(p,B,H,z)},q=B=>{this.jsPsych.pluginAPI.preloadImages(c,B,H,z)};d.length>0&&w(()=>{}),p.length>0&&I(()=>{}),c.length>0&&q(()=>{})}function z(w){b(),n==null&&(n=!1);var I="unknown file";w.source&&(I=w.source),w.error&&w.error.path&&w.error.path.length>0&&(w.error.path[0].localName=="img"?s.push(I):w.error.path[0].localName=="audio"?o.push(I):w.error.path[0].localName=="video"&&a.push(I));var q="<p><strong>Error loading file: "+I+"</strong><br>";w.error.statusText&&(q+="File request response status: "+w.error.statusText+"<br>"),w.error=="404"&&(q+="404 - file not found.<br>"),typeof w.error.loaded<"u"&&w.error.loaded!==null&&w.error.loaded!==0?q+=w.error.loaded+" bytes transferred.":q+="File did not begin loading. Check that file path is correct and reachable by the browser,<br>and that loading is not blocked by cross-origin resource sharing (CORS) errors.",q+="</p>",l.push(q),U(I),P==S&&(i.continue_after_error?x():A())}function H(w){b(),K(w),j++,j==S?v():P==S&&(i.continue_after_error?x():A())}function U(w){i.on_error!==null&&i.on_error(w)}function K(w){i.on_success!==null&&i.on_success(w)}}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={success:!0,timeout:!1,failed_images:[],failed_audio:[],failed_video:[]};return this.jsPsych.pluginAPI.mergeSimulationData(n,i)}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.jsPsych.getDisplayElement();this.trial(r,t),n()}}bi.info=so;const oo={name:"survey-multi-select",parameters:{questions:{type:h.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:void 0},options:{type:h.STRING,pretty_name:"Options",array:!0,default:void 0},horizontal:{type:h.BOOL,pretty_name:"Horizontal",default:!1},required:{type:h.BOOL,pretty_name:"Required",default:!1},name:{type:h.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:h.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:h.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue"},required_message:{type:h.STRING,pretty_name:"Required message",default:"You must choose at least one response for this question"},autocomplete:{type:h.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class wi{constructor(t){this.jsPsych=t}trial(t,i){var n="jspsych-survey-multi-select",r="#"+n;const s=(...j)=>j.join("-");var o=".jspsych-survey-multi-select-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-select-text span.required {color: darkred;}.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-text {  text-align: center;}.jspsych-survey-multi-select-option { line-height: 2; }.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-select-text input[type='checkbox'] {margin-right: 1em;}";t.innerHTML='<style id="jspsych-survey-multi-select-css">'+o+"</style>";var a=s(n,"form");t.innerHTML+='<form id="'+a+'"></form>';var l=t.querySelector("#"+a);i.autocomplete||l.setAttribute("autocomplete","off");var u=s(n,"preamble");i.preamble!==null&&(l.innerHTML+='<div id="'+u+'" class="'+u+'">'+i.preamble+"</div>");for(var c=[],p=0;p<i.questions.length;p++)c.push(p);i.randomize_question_order&&(c=this.jsPsych.randomization.shuffle(c));for(var p=0;p<i.questions.length;p++){var d=i.questions[c[p]],f=c[p],y=[s(n,"question")];d.horizontal&&y.push(s(n,"horizontal")),l.innerHTML+='<div id="'+s(n,f)+'" data-name="'+d.name+'" class="'+y.join(" ")+'"></div>';var m=s(r,f);t.querySelector(m).innerHTML+='<p id="survey-question" class="'+n+'-text survey-multi-select">'+d.prompt+"</p>";for(var g=0;g<d.options.length;g++){var b=s(n,"option",f,g);t.querySelector(m).innerHTML+='<div id="'+b+'" class="'+s(n,"option")+'"></div>';var v=document.getElementById(b),T=s(n,"response",f),A=s(n,"response",f,g),x=document.createElement("label");x.setAttribute("class",n+"-text"),x.innerHTML=d.options[g],x.setAttribute("for",A);var S=document.createElement("input");S.setAttribute("type","checkbox"),S.setAttribute("name",T),S.setAttribute("id",A),S.setAttribute("value",d.options[g]),v.appendChild(x),x.insertBefore(S,x.firstChild)}}l.innerHTML+='<div class="fail-message"></div>',l.innerHTML+='<button id="'+n+'-next" class="'+n+' jspsych-btn">'+i.button_label+"</button>",t.querySelector("#jspsych-survey-multi-select-next").addEventListener("click",()=>{for(var j=0;j<i.questions.length;j++)i.questions[j].required&&(t.querySelector("#jspsych-survey-multi-select-"+j+" input:checked")==null?t.querySelector("#jspsych-survey-multi-select-"+j+" input").setCustomValidity(i.required_message):t.querySelector("#jspsych-survey-multi-select-"+j+" input").setCustomValidity(""));l.reportValidity()}),l.addEventListener("submit",j=>{j.preventDefault();for(var z=performance.now(),H=Math.round(z-P),U={},K=0;K<i.questions.length;K++){for(var w=t.querySelector("#jspsych-survey-multi-select-"+K),I=[],q=w.querySelectorAll("input[type=checkbox]:checked"),B=0;B<q.length;B++){var be=q[B];I.push(be.value)}var N="Q"+K,te={},ie=N;w.attributes["data-name"].value!==""&&(ie=w.attributes["data-name"].value),te[ie]=I,Object.assign(U,te),I.length==0}var re={rt:H,response:U,question_order:c};t.innerHTML="",this.jsPsych.finishTrial(re)});var P=performance.now()}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={};let r=1e3;for(const a of t.questions){let l;a.required?l=this.jsPsych.randomization.randomInt(1,a.options.length):l=this.jsPsych.randomization.randomInt(0,a.options.length);const u=a.name?a.name:`Q${t.questions.indexOf(a)}`,c=this.jsPsych.randomization.sampleWithoutReplacement(a.options,l);n[u]=c,r+=this.jsPsych.randomization.sampleExGaussian(1500,400,1/200,!0)}const s={response:n,rt:r,question_order:t.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(t.questions.length).keys()]):[...Array(t.questions.length).keys()]},o=this.jsPsych.pluginAPI.mergeSimulationData(s,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,o),o}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=Object.entries(r.response);for(let a=0;a<o.length;a++)for(const l of o[a][1])this.jsPsych.pluginAPI.clickTarget(s.querySelector(`#jspsych-survey-multi-select-response-${a}-${t.questions[a].options.indexOf(l)}`),(r.rt-1e3)/o.length*(a+1));this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-survey-multi-select-next"),r.rt)}}wi.info=oo;const ao={name:"fullscreen",parameters:{fullscreen_mode:{type:h.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1},message:{type:h.HTML_STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue",array:!1},delay_after:{type:h.INT,pretty_name:"Delay after",default:1e3,array:!1}}};class xi{constructor(t){this.jsPsych=t}trial(t,i){var n=typeof Element<"u"&&"ALLOW_KEYBOARD_INPUT"in Element;n?this.endTrial(t,!1,i):i.fullscreen_mode?this.showDisplay(t,i):(this.exitFullScreen(),this.endTrial(t,!0,i))}showDisplay(t,i){t.innerHTML=`
      ${i.message}
      <button id="jspsych-fullscreen-btn" class="jspsych-btn">${i.button_label}</button>
    `,t.querySelector("#jspsych-fullscreen-btn").addEventListener("click",()=>{this.enterFullScreen(),this.endTrial(t,!0,i)})}endTrial(t,i,n){t.innerHTML="",this.jsPsych.pluginAPI.setTimeout(()=>{var r={success:i};this.jsPsych.finishTrial(r)},n.delay_after)}enterFullScreen(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={success:!0};return this.jsPsych.pluginAPI.mergeSimulationData(n,i)}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();r.success===!1?this.endTrial(s,!1,t):(this.trial(s,t),n(),this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-fullscreen-btn"),this.jsPsych.randomization.sampleExGaussian(1e3,100,1/200,!0)))}}xi.info=ao;const lo={name:"instructions",parameters:{pages:{type:h.HTML_STRING,pretty_name:"Pages",default:void 0,array:!0},key_forward:{type:h.KEY,pretty_name:"Key forward",default:"ArrowRight"},key_backward:{type:h.KEY,pretty_name:"Key backward",default:"ArrowLeft"},allow_backward:{type:h.BOOL,pretty_name:"Allow backward",default:!0},allow_keys:{type:h.BOOL,pretty_name:"Allow keys",default:!0},show_clickable_nav:{type:h.BOOL,pretty_name:"Show clickable nav",default:!1},show_page_number:{type:h.BOOL,pretty_name:"Show page number",default:!1},page_label:{type:h.STRING,pretty_name:"Page label",default:"Page"},button_label_previous:{type:h.STRING,pretty_name:"Button label previous",default:"Previous"},button_label_next:{type:h.STRING,pretty_name:"Button label next",default:"Next"}}};class nt{constructor(t){this.jsPsych=t}trial(t,i){var n=0,r=[],s=performance.now(),o=s;function a(m){m.target.removeEventListener("click",a),this.id==="jspsych-instructions-back"?c():this.id==="jspsych-instructions-next"&&u()}function l(){var m=i.pages[n],g="";if(i.show_page_number&&(g="<span style='margin: 0 1em;' class='jspsych-instructions-pagenum'>"+i.page_label+" "+(n+1)+"/"+i.pages.length+"</span>"),i.show_clickable_nav){var b="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>";if(i.allow_backward){var v=n>0?"":"disabled='disabled'";b+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;' "+v+">&lt; "+i.button_label_previous+"</button>"}i.pages.length>1&&i.show_page_number&&(b+=g),b+="<button id='jspsych-instructions-next' class='jspsych-btn'style='margin-left: 5px;'>"+i.button_label_next+" &gt;</button></div>",m+=b,t.innerHTML=m,n!=0&&i.allow_backward&&t.querySelector("#jspsych-instructions-back").addEventListener("click",a),t.querySelector("#jspsych-instructions-next").addEventListener("click",a)}else i.show_page_number&&i.pages.length>1&&(m+="<div class='jspsych-instructions-pagenum'>"+g+"</div>"),t.innerHTML=m}function u(){p(),n++,n>=i.pages.length?d():l()}function c(){p(),n--,l()}function p(){var m=performance.now(),g=Math.round(m-o);r.push({page_index:n,viewing_time:g}),o=m}const d=()=>{i.allow_keys&&this.jsPsych.pluginAPI.cancelKeyboardResponse(y),t.innerHTML="";var m={view_history:r,rt:Math.round(performance.now()-s)};this.jsPsych.finishTrial(m)},f=m=>{y=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:[i.key_forward,i.key_backward],rt_method:"performance",persist:!1,allow_held_key:!1}),this.jsPsych.pluginAPI.compareKeys(m.key,i.key_backward)&&n!==0&&i.allow_backward&&c(),this.jsPsych.pluginAPI.compareKeys(m.key,i.key_forward)&&u()};if(l(),i.allow_keys)var y=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:f,valid_responses:[i.key_forward,i.key_backward],rt_method:"performance",persist:!1})}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){let n=0,r=0;const s=[];for(;n!==t.pages.length;){const l=this.jsPsych.randomization.sampleExGaussian(3e3,300,.0033333333333333335);s.push({page_index:n,viewing_time:l}),r+=l,n==0||!t.allow_backward||this.jsPsych.randomization.sampleBernoulli(.9)==1?n++:n--}const o={view_history:s,rt:r},a=this.jsPsych.pluginAPI.mergeSimulationData(o,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,a),a}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=c=>{t.allow_keys?this.jsPsych.pluginAPI.pressKey(t.key_forward,c):t.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-instructions-next"),c)},a=c=>{t.allow_keys?this.jsPsych.pluginAPI.pressKey(t.key_backward,c):t.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-instructions-back"),c)};let l=0,u=0;for(let c=0;c<r.view_history.length;c++)c==r.view_history.length-1?o(u+r.view_history[c].viewing_time):(r.view_history[c+1].page_index>l&&o(u+r.view_history[c].viewing_time),r.view_history[c+1].page_index<l&&a(u+r.view_history[c].viewing_time),u+=r.view_history[c].viewing_time,l=r.view_history[c+1].page_index)}}nt.info=lo;const uo={name:"html-display-response",parameters:{stimulus:{type:h.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:h.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:h.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:h.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:h.BOOL,pretty_name:"Response ends trial",default:!0},num_keypress_display:{type:h.INT,pretty_name:"Keyboard presses number",default:0},remain_time_display:{type:h.BOOL,pretty_name:"Buttom right will display the remaining time from trial duration",default:!1},true_random:{type:h.BOOL,pretty_name:"When true, the probability of success is static and given by prob_success",default:!1},prob_win:{type:h.INT,pretty_name:"The probability of success when true_random = true",default:.5},response_callbacks:{type:h.FUNCTION,pretty_name:"Array of keyboard response callbacks",default:[]}}};class rt extends ve{trial(t,i){var n=`
        <div id="jspsych-html-keyboard-response-stimulus" style="display: flex; flex-direction: column"> 
            <h1 id="keypress-count"></h2>
            <table class="response-display-wrapper">
            <tr class="row-time"> <td>time left: </td> <td><span id="keypress-timer">${i.trial_duration/1e3} sec</span></td></tr>
            <tr class="row-hist"> <td>you typed: </td> <td> <ul id="keypress-hist"> </ul></td></tr>
            </table>
        </div>`;n+=i.prompt||"",t.innerHTML=n;var r={rt_valid:null,rt_typed:null,typed:0,score:0},s=[],o=[];const a=u=>{this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelAllKeyboardResponses();var u={rt_valid:r.rt_valid,rt_typed:r.rt_typed,typed:r.typed,score:r.score,...u};t.innerHTML="",this.jsPsych.finishTrial(u)};i.remain_time_display&&($("tr.row-time").css("visibility","visible"),Us("keypress-timer")),i.num_keypress_display>0&&$("tr.row-hist").css("visibility","visible"),i.choices!="NO_KEYS"&&($(".row-count").css("visibility","visible"),i.response_callbacks().forEach(l=>{let u={i:0};s.push(this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:Ws(l.callback_function,r,i,o,u,t,a,i.true_random,i.prob_win),valid_responses:l.accept_allkeys?"ALL_KEYS":i.choices,persist:!i.response_ends_trial,allow_held_key:!1,rt_method:"performance"}))})),i.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{$("#jspsych-html-keyboard-response-stimulus").css("visibility","hidden")},i.stimulus_duration),i.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(a,i.trial_duration)}}rt.info=uo;const co={name:"survey-demo",description:"",parameters:{button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue",description:"The text that appears on the button to finish the trial."}}},po=`<style>

</style>`,ho=`
<div class=survey-demo-instructions>
    <h2>Survey</h2>
    <p>Please answer the questions below. <font color="#c87606">Your answers will not affect your payment or bonus.</font></p>
</div>
`,fo=`
<div class="survey-demo-row">
    <div class="survey-demo-prompt">
        <label for="gender">Gender? </label>
    </div>
    <div class="survey-demo-response">
        <label><input type="radio" name="gender" value="Man" required>Man</label><br>
        <label><input type="radio" name="gender" value="Woman" required>Woman</label><br>
        <label><input type="radio" name="gender" value="Other" required>Other</label><br>
    </div>
</div>
`,mo=`
<div class="survey-demo-row">
    <div class="survey-demo-prompt">
        <label for="age">Age? </label>
    </div>
    <div class="survey-demo-response">
        <input type="number" name="age" min="14" max="100" style="width: 80px">
    </div>
</div>
`,yo=`
<div class="survey-demo-row">
    <div class="survey-demo-prompt">
        <label for="ethnicity">Ethnicity?<br><small>(Choose all that apply)</small> </label>
    </div>
    <div class="survey-demo-response">
        <label><input type="checkbox" name="ethnicity" value="White / Caucasian">White / Caucasian</label><br>
        <label><input type="checkbox" name="ethnicity" value="Black / African American">Black / African American</label><br>
        <label><input type="checkbox" name="ethnicity" value="Asian / Pacific Islander">Asian / Pacific Islander</label><br>
        <label><input type="checkbox" name="ethnicity" value="Hispanic">Hispanic</label><br>
        <label><input type="checkbox" name="ethnicity" value="Native American">Native American</label><br>
        <label><input type="checkbox" name="ethnicity" value="Other">Other</label><br>
    </div>
</div>
`,go=`
<div class="survey-demo-row">
    <div class="survey-demo-prompt">
        <label for="english">Is English your native language? </label>
    </div>
    <div class="survey-demo-response">
        <label><input type="radio" name="english" value="True" required>True</label><br>
        <label><input type="radio" name="english" value="False" required>False</label><br>
    </div>
</div>
`,_o=`
<div class="survey-demo-row">
    <div class="survey-demo-prompt">
        <label for="suggest">Questions? Comments? Complaints? Provide your feedback here! </label>
    </div>
    <div class="survey-demo-suggest">
    <textarea name="suggest" id="styled"></textarea>
    </div>
</div>
`,vo=`
<div class="survey-demo-footer">
    <input type="submit" value="$button"></input>
</div>
`;class ki{trial(t,i){var n="";n+=po,n+='<div class="survey-demo-wrap"><form id="jspsych-survey-demo">',n+=ho,n+='<div class="survey-demo-container">',n+=fo,n+=mo,n+=yo,n+=go,n+=_o,n+="</div>",n+=vo.replace("$button",i.button_label),n+="</form></div>",t.innerHTML=n,window.onbeforeunload=function(){window.scrollTo(0,0)},t.querySelector("#jspsych-survey-demo").addEventListener("submit",function(a){a.preventDefault();const l=document.querySelectorAll('input[type="checkbox"]');if(!Array.prototype.slice.call(l).some(p=>p.checked))alert('You did not enter a response for the question "Ethnicity". Please choose at least one option.');else{const d=performance.now()-r;let f=s(this);f=o(f);var c={rt:d,responses:f};t.innerHTML="",jsPsych.finishTrial(c)}});var r=performance.now();/*!
* Serialize all form data into an array
* (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com
* @param  {Node}   form The form to serialize
* @return {String}      The serialized form data
*/var s=function(a){for(var l=[],u=0;u<a.elements.length;u++){var c=a.elements[u];if(!(!c.name||c.disabled||c.type==="file"||c.type==="reset"||c.type==="submit"||c.type==="button"))if(c.type==="select-multiple")for(var p=0;p<c.options.length;p++)c.options[p].selected&&l.push({name:c.name,value:c.options[p].value});else(c.type!=="checkbox"&&c.type!=="radio"||c.checked)&&l.push({name:c.name,value:c.value})}for(var d=document.querySelectorAll("input[type=checkbox]"),f=[],u=0;u<d.length;u++)f.includes(d[u].name)||f.push(d[u].name);for(var u=0;u<f.length;u++){for(var y=document.querySelectorAll(`input[name=${f[u]}]:checked`),m=[],g=0;g<y.length;g++)m.push(y[g].value);l.push({name:f[u],value:m})}return l};function o(a){for(var l={},u=0;u<a.length;u++)l[a[u].name]=a[u].value;return l}}}ki.info=co;const bo={name:"html-button-response",parameters:{stimulus:{type:h.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:h.STRING,pretty_name:"Choices",default:void 0,array:!0},button_html:{type:h.HTML_STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0},prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:h.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:h.INT,pretty_name:"Trial duration",default:null},margin_vertical:{type:h.STRING,pretty_name:"Margin vertical",default:"0px"},margin_horizontal:{type:h.STRING,pretty_name:"Margin horizontal",default:"8px"},response_ends_trial:{type:h.BOOL,pretty_name:"Response ends trial",default:!0}}};class Me{constructor(t){this.jsPsych=t}trial(t,i){var n='<div id="jspsych-html-button-response-stimulus">'+i.stimulus+"</div>",r=[];if(Array.isArray(i.button_html))i.button_html.length==i.choices.length?r=i.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var s=0;s<i.choices.length;s++)r.push(i.button_html);n+='<div id="jspsych-html-button-response-btngroup">';for(var s=0;s<i.choices.length;s++){var o=r[s].replace(/%choice%/g,i.choices[s]);n+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+i.margin_vertical+" "+i.margin_horizontal+'" id="jspsych-html-button-response-button-'+s+'" data-choice="'+s+'">'+o+"</div>"}n+="</div>",i.prompt!==null&&(n+=i.prompt),t.innerHTML=n;for(var a=performance.now(),s=0;s<i.choices.length;s++)t.querySelector("#jspsych-html-button-response-button-"+s).addEventListener("click",d=>{var f=d.currentTarget,y=f.getAttribute("data-choice");c(y)});var l={rt:null,button:null};const u=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var p={rt:l.rt,stimulus:i.stimulus,response:l.button};t.innerHTML="",this.jsPsych.finishTrial(p)};function c(p){var d=performance.now(),f=Math.round(d-a);l.button=parseInt(p),l.rt=f,t.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var y=document.querySelectorAll(".jspsych-html-button-response-button button"),m=0;m<y.length;m++)y[m].setAttribute("disabled","disabled");i.response_ends_trial&&u()}i.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{t.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"},i.stimulus_duration),i.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(u,i.trial_duration)}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={stimulus:t.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0),response:this.jsPsych.randomization.randomInt(0,t.choices.length-1)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n(),r.rt!==null&&this.jsPsych.pluginAPI.clickTarget(s.querySelector(`div[data-choice="${r.response}"] button`),r.rt)}}Me.info=bo;const wo={name:"survey-text",parameters:{questions:{type:h.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:void 0},placeholder:{type:h.STRING,pretty_name:"Placeholder",default:""},rows:{type:h.INT,pretty_name:"Rows",default:1},columns:{type:h.INT,pretty_name:"Columns",default:40},required:{type:h.BOOL,pretty_name:"Required",default:!1},name:{type:h.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:h.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:h.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:h.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class Ai{constructor(t){this.jsPsych=t}trial(t,i){for(var n=0;n<i.questions.length;n++)typeof i.questions[n].rows>"u"&&(i.questions[n].rows=1);for(var n=0;n<i.questions.length;n++)typeof i.questions[n].columns>"u"&&(i.questions[n].columns=40);for(var n=0;n<i.questions.length;n++)typeof i.questions[n].value>"u"&&(i.questions[n].value="");var r="";i.preamble!==null&&(r+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+i.preamble+"</div>"),i.autocomplete?r+='<form id="jspsych-survey-text-form">':r+='<form id="jspsych-survey-text-form" autocomplete="off">';for(var s=[],n=0;n<i.questions.length;n++)s.push(n);i.randomize_question_order&&(s=this.jsPsych.randomization.shuffle(s));for(var n=0;n<i.questions.length;n++){var o=i.questions[s[n]],a=s[n];r+='<div id="jspsych-survey-text-'+a+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',r+='<p class="jspsych-survey-text">'+o.prompt+"</p>";var l=n==0?"autofocus":"",u=o.required?"required":"";o.rows==1?r+='<input type="text" id="input-'+a+'"  name="#jspsych-survey-text-response-'+a+'" data-name="'+o.name+'" size="'+o.columns+'" '+l+" "+u+' placeholder="'+o.placeholder+'"></input>':r+='<textarea id="input-'+a+'" name="#jspsych-survey-text-response-'+a+'" data-name="'+o.name+'" cols="'+o.columns+'" rows="'+o.rows+'" '+l+" "+u+' placeholder="'+o.placeholder+'"></textarea>',r+="</div>"}r+='<input type="submit" id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text" value="'+i.button_label+'"></input>',r+="</form>",t.innerHTML=r,t.querySelector("#input-"+s[0]).focus(),t.querySelector("#jspsych-survey-text-form").addEventListener("submit",p=>{p.preventDefault();for(var d=performance.now(),f=Math.round(d-c),y={},m=0;m<i.questions.length;m++){var g="Q"+m,b=document.querySelector("#jspsych-survey-text-"+m).querySelector("textarea, input"),v=b.value,T=b.attributes["data-name"].value;T==""&&(T=g);var A={};A[T]=v,Object.assign(y,A)}var x={rt:f,response:y};t.innerHTML="",this.jsPsych.finishTrial(x)});var c=performance.now()}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={};let r=1e3;for(const a of t.questions){const l=a.name?a.name:`Q${t.questions.indexOf(a)}`,u=a.rows==1?this.jsPsych.randomization.sampleExponential(.25):this.jsPsych.randomization.randomInt(1,10)*a.rows;n[l]=this.jsPsych.randomization.randomWords({exactly:u,join:" "}),r+=this.jsPsych.randomization.sampleExGaussian(2e3,400,.004,!0)}const s={response:n,rt:r},o=this.jsPsych.pluginAPI.mergeSimulationData(s,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,o),o}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=Object.entries(r.response).map(a=>a[1]);for(let a=0;a<o.length;a++)this.jsPsych.pluginAPI.fillTextInput(s.querySelector(`#input-${a}`),o[a],(r.rt-1e3)/o.length*(a+1));this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-survey-text-next"),r.rt)}}Ai.info=wo;const xo={preload:bi,checkbox:wi,choice:Qe,fullscreen:xi,instruct:nt,response:ve,display:rt,button:Me,text:Ai,survey:ki};function Ti(e,t,i,n,r,s,o){s.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",t.score===0&&(t.rt_valid=e.rt),t.typed===0&&(t.rt_typed=e.rt);let a=r.i%i.choices.length;if(jsPsych.pluginAPI.compareKeys(e.key,i.choices[a])?(t.score++,r.i++,$("#keypress-count").html(t.score.toString()),n.push({key:e.key,color:"green"})):n.push({key:e.key,color:"red"}),i.num_keypress_display>0){n.length>i.num_keypress_display&&n.shift();let l=document.getElementById("keypress-hist");l.innerHTML="",n.forEach(function(u){let c=document.createElement("li");c.textContent=u.key,c.style.color=u.color,l.appendChild(c)})}t.typed++,i.response_ends_trial&&o()}function pe({args:e={},on_start:t=void 0,on_load:i=void 0,on_finish:n=void 0,conditional_function:r=void 0,loop_function:s=void 0}={}){return e.type=xo[e.type],e={on_start:t,on_finish:n,on_load:i,...e},[r,s].some(o=>typeof o<"u")?{timeline:e,conditional_function:r,loop_function:s}:e}function Si({instruction:e=void 0,example:t=void 0,questions:i=[],questions_inv:n=[],condition:r="",randomize_order:s=!0,data:o={},feedback_success:a="success",feedback_failure:l="failure",pM:u=void 0}={}){let c=!1;const p=[],d=u==.2?"2 tokens":u==.5?"5 tokens":"8 tokens",f=u==.2?"30 - 2 = 28 tokens":u==.5?"30 - 5 = 25 tokens":"30 - 8 = 22 tokens",y=u==.2?"28 tokens":u==.5?"25 tokens":"22 tokens",m=r=="inverse streak"?e[r].replaceAll("{tokens}",d):e[r],g=e.title.replaceAll("${instruction_by_group}",m),b=e.info.replaceAll("${instruction_by_group}",m);p.push(g),p.push(b);const v=`<div><p class=instruction-title>If you score <b><span id='current-number'>62</span></b> and the target score is <b><span id='target-number'>50</span></b>, you'll see:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <div class="bonus-2">
                <div class="bonus-3">Your score:</div>
                <div class="bonus-4"><span id="current-number">62</span></div>
            </div>
            <div class="bonus-2">
                <div class="bonus-3">Target score:</div>
                <div class="bonus-4" style="color: red"><span id="target-number">50</span></div>
            </div>
        </div>`,T=`<div><p class=instruction-title>If you score <b><span id='current-number'>38</span></b> and the target score is <b><span id='target-number'>50</span></b>, you'll see:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <div class="bonus-2">
                <div class="bonus-3">Your score:</div>
                <div class="bonus-4"><span id="current-number">38</span></div>
            </div>
            <div class="bonus-2">
                <div class="bonus-3">Target score:</div>
                <div class="bonus-4" style="color: red"><span id="target-number">50</span></div>
            </div>
        </div>`,A=`<div><p class=instruction-title>Then you'll see that you failed to win any tokens:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
        <div style="position: relative; text-align: center; width: 800px; height: 150px">
        <div class="feedback-text">
        <p>You missed the target score.</p><span style="font-size: 75px; line-height:90px; font-weight: bold">+0</span>
        </div></div></div>`,x=`<div><p class=instruction-title>Then you'll see that you failed to win any tokens:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
        <div style="position: relative; text-align: center; width: 800px; height: 150px">
        <div class="feedback-text">
        <p>Your streak was less than 3.</p><span style="font-size: 75px; line-height:90px; font-weight: bold">+0</span>
        </div></div></div>`,S=`<div><p class=instruction-title>Then you'll see how many attempts you've made without reaching the target score.<br>For example, after three attempts without reaching the target score, you'll see:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <p>You missed the target score.</p>Total Attempts: 3
        </div>`,P=[`<div><p class=instruction-title>Then you'll see how much money you earned from your steak.<br>
        For example, if you miss the target score after achieving a streak of three, you'll see that you won 60 tokens:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <div class="feedback-container">
                <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
                <div class="feedback-text"><p>Your streak was 3</p><span style="font-size: 75px; line-height:90px">+60</span></div>
            </div>
        </div>`,`<div><p class=instruction-title>However, if you miss the target score after failing to start a streak,<br>
        you'll see that you failed to win any tokens:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
        <div style="position: relative; text-align: center; width: 800px; height: 150px">
        <div class="feedback-text">
        <p>Your streak was 0</p><span style="font-size: 75px; line-height:90px; font-weight: bold">+0</span>
        </div></div></div>`],j=`<div><p class=instruction-title>Then you'll see that you won 20 tokens:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <div class="feedback-container">
                <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
                <div class="feedback-text"><p>You reached the target score!</p><span style="font-size: 75px; line-height:90px">+20</span></div>
            </div>
        </div>`,z=`<div><p class=instruction-title>Then you'll see the length of your current streak.<br>For example, after three consecutive completions, you'll see:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <p>You reached the target score!</p>Current Streak: 3
        </div>`,H=`<div><p class=instruction-title>Then you'll see that you won 30 tokens minus ${d} for each attempt.<br>For example, if you reach the target score on your 1st attempt,<br>you'll see that you won ${f}:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <div class="feedback-container">
                <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
                <div class="feedback-text"><p>You succeeded on your 1st attempt!</p><span style="font-size: 75px; line-height:90px">+${y}</span></div>
            </div>
        </div>`,U=[`<div><p class=instruction-title>Then you'll see the length of your current streak.<br>For example, after one completion, you'll see:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <p>You reached the target score!</p>Current Streak: 1/3
        </div>`,`<div><p class=instruction-title>After two completions, you'll see:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <p>You reached the target score!</p>Current Streak: 2/3
        </div>`,`<div><p class=instruction-title>After three completions, you'll see that you won 60 tokens:</p></div>
        <div class="bonus-1" style="margin: 40px 0px">
            <div class="feedback-container">
                <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
                <div class="feedback-text"><p>You got a streak of 3!</p><span style="font-size: 75px; line-height:90px">+30</span></div>
            </div>
        </div>`];let K=u==.8?"relatively easy":u==.2?"relatively difficult":"neither particularly easy nor particularly difficult",w=u==.8?"80%":u==.2?"20%":"50%";const I=[`<div><p class=instruction-title>The typing task is calibrated to be <b>${K}</b>.<br>Specifically, most players reach the target score approximately <b>${w}</b> of the time.</p></div>`];return r=="inverse streak"?(p.push(T),p.push(S),p.push(v),p.push(H),p.push(I)):(p.push(v),r=="binary streak"?p.push(...U):r=="continuous streak"?p.push(z):r=="binary"&&p.push(j),p.push(T),r=="binary streak"?p.push(x):r=="continuous streak"?p.push(...P):r=="binary"&&p.push(A),p.push(I)),{timeline:[{type:nt,pages:p,show_clickable_nav:!0},{type:Qe,questions:function(){return r=="inverse streak"?n.map(N=>({...N,required:!0})):i.map(N=>({...N,required:!0}))},randomize_question_order:s,on_finish:function(N){let{Q0:te,Q1:ie,Q2:re,Q3:we}=N.response;r=="inverse streak"?N.pass=c=[te.includes("At least"),ie.startsWith(u==.2?"30 - 2 = 28 tokens":u==.5?"30 - 5 = 25 tokens":"30 - 8 = 22 tokens"),re.startsWith(u==.2?"30 - 6 = 24 tokens":u==.5?"30 - 15 = 15 tokens":"30 - 24 = 6 tokens"),we.startsWith(w)].every(Boolean):N.pass=c=[te.includes("At least"),ie.startsWith(r==="binary streak"?"0":"40"),re.startsWith("60"),we.startsWith(w)].every(Boolean)}},{type:Me,stimulus:"",on_start:N=>{N.stimulus=c?a:l},choices:["Continue"]}],loop_function:N=>!N.select("pass").values[0],data:o}}class ji{constructor({numOfTrial:t=1,trial_duration:i=5,fixation_duration:n=3,num_keypress_display:r=0,fontsize:s="",no_prompt:o=!1,show_stat:a=!1,list:l=[],data:u={},true_random:c=void 0,prob_win:p=void 0}={}){if(this.numOfTrial=t,this.num_keypress_display=r,this.data=u,this.fontsize=s,this.no_prompt=o,this.show_stat=a,this.true_random=c,this.prob_win=p,l.length<t){const d=l.length;l=l.concat(Vs(t-d))}this.list=l.slice(0,t),this.trial_duration=i*1e3,this.fixation_duration=n*1e3,this.phase="practice",this.trial_i=0}getFixation(t){t.push({on_start:i=>{let[n,r]=i.stimulus;i.stimulus=`<p>type ${n} and then ${r} as many times as possible</p>`},type:ve,stimulus:jsPsych.timelineVariable("choices"),choices:"NO_KEYS",trial_duration:this.fixation_duration,data:{phase:`${this.phase}_fixation`}})}getFeedback(t){const i=[],n=()=>{const r=[...Object.values(jsPsych.data.get().filter({phase:"practice"}))][0];if(!_i(r)){const o=Js(r,["rt_valid","rt_typed","typed","score"]);this.show_stat?$("div.jspsych-content").prepend(o):jsPsych.finishTrial()}};i.push({type:Me,on_load:n,stimulus:"",data:{phase:"statistics"},choices:["Continue"]}),t.push({timeline:i,conditional_function:()=>this.trial_i===this.numOfTrial})}getStimulusCallback(){const t=[];return t.push({callback_function:Ti,accept_allkeys:!0}),t}getStimulusOnStart(t){let[i,n]=t.choices;t.prompt=this.no_prompt?"":`<p id="display-prompt">type ${i} and then ${n} as many times as possible</p>`,this.trial_i++}getTimelineVariable(){const t=[];return this.list.forEach(i=>{let[n,r]=i.split(",");t.push({choices:[n,r]})}),t}getStimulus(t){t.push({on_start:i=>this.getStimulusOnStart(i),type:rt,stimulus:"",choices:jsPsych.timelineVariable("choices"),true_random:this.true_random,prob_win:this.prob_win,remain_time_display:!0,num_keypress_display:this.num_keypress_display,response_ends_trial:!1,data:this.data,trial_duration:()=>this.trial_duration,response_callbacks:()=>this.getStimulusCallback()})}on_timeline_start(){$("div#jspsych-content").css({"font-size":this.fontsize})}on_timeline_finish(){$("div#jspsych-content").css({"font-size":""})}getTrial(){const t=[];return this.getFixation(t),this.getStimulus(t),this.getFeedback(t),{timeline:t,timeline_variables:this.getTimelineVariable(),randomize_order:!0,on_timeline_start:()=>this.on_timeline_start(),on_timeline_finish:()=>this.on_timeline_finish(),conditional_function:()=>this.numOfTrial>0}}}function ko(e){let{choice:t,quantile:i}=e;if(t==="normal"){const{std:n}=e[t];return r=>{const s=kt(r,i);return()=>Math.floor(jsPsych.randomization.sampleNormal(s,n))||s}}else if(t==="uniform"){const{range:n}=e[t];return r=>{const s=kt(r,i);return()=>jsPsych.randomization.randomInt(s-n,s+n)||s}}}class Pi extends ji{constructor({numOfTrial:t=1,fontsize:i="",no_prompt:n=!1,list:r=[],data:s={},target_dist:o={},target_min:a=1,condition:l=void 0,feedback:u=void 0,early_stop:c=void 0,time:p=void 0,true_random:d=void 0,prob_win:f=void 0,first_trial_num:y=void 0,multiplierArray:m=void 0,pM:g=void 0}={}){const{trial_time:b,fix_time:v,score_time:T,reward_time:A}=p;super({numOfTrial:t,trial_duration:b,fixation_duration:v,fontsize:i,no_prompt:n,list:r,data:s}),this.target_dist=ko(o),this.target_min=a,this.practice_score=0,this.phase="bonus",this.condition=l,this.early_stop=c,this.score_time=T*1e3,this.reward_time=A*1e3,this.feedback=u,this.true_random=d,this.prob_win=f,this.multiplier=1,this.delta=10,this.pM=g,this.trial_i=y,this.multiplierArray=m,this.reward_agent=l==="binary"?new st:l==="continuous streak"?new Ii:l==="binary streak"?new To:new Ao}on_timeline_start(){super.on_timeline_start();const t=jsPsych.data.get().filter({phase:"practice"}).select("score").values;this.target_dist=this.target_dist(t)}getStimulusCallback(){const t=[];return t.push({callback_function:(i,n,r,s,o,a,l)=>{Ti(i,n,r,s,o,a,l),n.typed==1&&(this.delta=1+Math.floor(Math.random()*10));const u=20,p=Math.floor((this.trial_i-1)/u)*u;let d=jsPsych.data.get().filter({phase:"bonus"}).select("score").values,f=jsPsych.data.get().filter({phase:"bonus"}).select("success").values;d=d.slice(p,this.trial_i-1),f=f.slice(p,this.trial_i-1);const y=f.filter(Boolean).length;let m;d.length===0?m=.5:(m=(d.filter(P=>P<=n.score).length-.5)/d.length,m=Math.max(0,Math.min(1,m)));const g=this.condition==="continuous streak"?Math.round(this.pM*u):Math.round(this.pM*u)-1,b=this.trial_i%u||u,v=u-b;let T=g-y,A;if(T<=0)A=!1;else if(T>=v)A=!0;else{const S=Math.max(0,Math.min(1,T/v)),P=Math.max(0,Math.min(1,1-S));A=b===1?Math.random()<this.pM:m>=P}let x;b==20?x=this.condition=="continuous streak"?n.score+this.delta:n.score-this.delta:n.score<30?x=45+Math.floor(Math.random()*20):x=A?n.score-this.delta:n.score+this.delta,this.true_random&&(r.data.target=x),n.score>=r.data.target?(r.data.success=!0,this.early_stop&&l(r.data)):r.data.success=!1},accept_allkeys:!0}),t}getStimulusOnStart(t){super.getStimulusOnStart(t),t.data={success:!1,target:Math.max(this.target_dist(),this.target_min),...t.data}}getFeedback(t){const{main_feedback:i,success_feedback:n,failure_feedback:r}=this.feedback;let s=0,o=0,a=0,l=0,u=0,c;const p=function(f,y,m){return{type:ve,stimulus:"",choices:"NO_KEYS",trial_duration:f,data:{phase:y},on_start:m}},d=f=>{let y="";f.data.phase==="bonus_feedback_reward"?y=s?n:r:(y=i,f.data.bonus=l);let m=$("<div />",{html:y});if(m.find("div#feedback").html(c),m.find("span#target-number").html(o),m.find("span#current-number").html(a),this.condition!=="binary"&&!s){const g=m.find("div#bonus-2"),b=this.condition==="binary streak"?`${u}/3`:`${u}`;u===0?g.remove():g.html("Your streak was "+b)}f.stimulus=m.html()};t.push({timeline:[p(this.score_time,"bonus_feedback_score",d),p(this.reward_time,"bonus_feedback_reward",d)],on_timeline_start:()=>{({success:s,target:o,score:a}=jsPsych.data.getLastTrialData().trials[0]),c=this.reward_agent.step(s,this.pM),{bonus:l,streak:u}=this.reward_agent.property,this.condition==="continuous streak"&&this.trial_i===this.numOfTrial&&(l=+(10*this.reward_agent.streak))}})}}class st{constructor(){this.overall_bonus=0,this.bonus=0,this.streak_sofar=0}step(t,i){return this.bonus=this.score(t),this.overall_bonus+=this.bonus,t?`<div class="feedback-container">
            <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
            <div class="feedback-text"><p>You reached the target score!</p><span style="font-size: 75px; line-height:90px">+${this.bonus}</span></div>
            </div>`:'<p>You missed the target score.</p><span style="font-size: 75px; line-height:90px; font-weight: bold">+0</span>'}score(t){return t?20:0}get property(){return{streak:this.streak_sofar,bonus:this.bonus}}}class Ao extends st{constructor(){super(),this.streak=this.streak_sofar}step(t,i){if(this.streak_sofar=this.streak,this.bonus=this.score(t,i),t){this.overall_bonus+=this.bonus,this.streak=0;let n=this.streak_sofar==0?"st":this.streak_sofar==1?"nd":this.streak_sofar==2?"rd":"th";return`<div class="feedback-container">
            <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
            <div class="feedback-text"><p>You succeeded on your ${this.streak_sofar+1}${n} attempt!</p><span style="font-size: 75px; line-height:90px">+${this.bonus}</span></div>
            </div>`}else return this.streak+=1,`<p>You missed the target score.</p>Total Attempts: ${this.streak}`}score(t,i){let n=i==.2?2:i==.5?5:8,r=t?30-(this.streak_sofar*n+n):0;return r<0?0:r}}class Ii extends st{constructor(){super(),this.streak=this.streak_sofar}step(t,i){return this.streak_sofar=this.streak,this.bonus=this.score(t),t?(this.streak+=1,`<p>You reached the target score!</p>Current Streak: ${this.streak}`):(this.overall_bonus+=this.bonus,this.streak_sofar===0?'<p>Your streak was 0</p><span style="font-size: 75px; line-height:90px; font-weight: bold">+0</span>':(this.streak=0,`<div class="feedback-container">
                <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
                <div class="feedback-text"><p>Your streak was ${this.streak_sofar}</p><span style="font-size: 75px; line-height:90px">+${this.bonus}</span></div>
                </div>`))}score(t){return t?0:this.streak_sofar*20}}class To extends Ii{step(t){return this.streak_sofar=this.streak,this.bonus=this.score(t),t?(this.streak+=1,this.bonus?(this.overall_bonus+=this.bonus,this.streak=0,`<div class="feedback-container">
                <img src="https://raw.githubusercontent.com/dennislx/jspsych-typing/main/public/img/coins.jpg">
                <div class="feedback-text"><p>You got a streak of 3!</p><span style="font-size: 75px; line-height:90px">+${this.bonus}</span></div>
                </div>`):`<p>You reached the target score!</p>Current Streak: ${this.streak}/3`):(this.streak_sofar===0||(this.streak=0),'<p>Your streak was less than 3.</p><span style="font-size: 75px; line-height:90px; font-weight: bold">+0</span>')}score(t){return t&&this.streak_sofar+1===3?30:0}}const k=await Ks("configs/default.yaml"),Ei=V.randomization.randomID(10),So=["inverse streak","continuous streak"],Y=[.2,.5,.8][Math.floor(Math.random()*3)];k.condition=V.randomization.repeat(So,1);const jo=vi(k.condition[0],Y),Po=vi(k.condition[1],Y);k.multiplierArray=jo.concat(Po);let Ve=V.data.getURLVariable("id");Ve||(Ve=0);V.data.addProperties({date:new Date,subject_id:Ei,game_1:k.condition[0],game_2:k.condition[1],hit_rate:Y,sona_id:Ve});const Te=["0<br>Not at all","1","2","3","4","5","6","7","8","9","10<br>Extremely"],ke=["0<br>Not at all","1","2","3","4","5","6","7","8","9","10<br>A lot"],qe=["0<br>Completely<br>disagree","1","2","3","4","5","6","7","8","9","10<br>Completely<br>agree"],Oi=function(e){this.type=_e,this.preamble=`<div style='padding-top: 50px; width: 850px; font-size:16px'>

    <p>Thank you for completing the ${e} version of the typing task! Now we want to know:<br><strong>To what extent did you feel immersed and engaged in the ${e} version of the typing task?</strong></p>
    <p>To report how immersed and engaged you felt in the ${e} version of the typing task,<br>please answer the following questions as honestly as possible.</p>`,this.questions=[{prompt:`During the ${e} version of the typing task, how <strong>absorbed</strong> did you feel in what you were doing?`,name:`absorbed_${e}`,labels:["0<br>Not very absorbed","1","2","3","4","5","6","7","8","9","10<br>More absorbed than I've ever felt"]},{prompt:`During the ${e} version of the typing task, how <strong>immersed</strong> did you feel in what you were doing?`,name:`immersed_${e}`,labels:["0<br>Not very immersed","1","2","3","4","5","6","7","8","9","10<br>More immersed than I've ever felt"]},{prompt:`During the ${e} version of the typing task, how <strong>engaged</strong> did you feel in what you were doing?`,name:`engaged_${e}`,labels:["0<br>Not very engaged","1","2","3","4","5","6","7","8","9","10<br>More engaged than I've ever felt"]},{prompt:`During the ${e} version of the typing task, how <strong>engrossed</strong> did you feel in what you were doing?`,name:`engrossed_${e}`,labels:["0<br>Not very engrossed","1","2","3","4","5","6","7","8","9","10<br>More engrossed than I've ever felt"]}],this.randomize_question_order=!1,this.scale_width=700},Li=function(e){this.type=_e,this.preamble=`<div style='padding-top: 50px; width: 850px; font-size:16px'>

    <p>Below are a few more questions about the ${e} version of the typing task.</p><p>Instead of asking about immersion and
    engagement, these questions ask about <strong>enjoyment</strong>.<br>Report how much you <strong>enjoyed</strong> 
    the ${e} version of the typing task by answering the following questions.</p></div>`,this.questions=[{prompt:`How much did you <strong>enjoy</strong> the ${e} version of the typing task?`,name:`enjoyable_${e}`,labels:ke},{prompt:`How much did you <strong>like</strong> the ${e} version of the typing task?`,name:`like_${e}`,labels:ke},{prompt:`How much did you <strong>dislike</strong> the ${e} version of the typing task?`,name:`dislike_${e}`,labels:ke},{prompt:`How much <strong>fun</strong> did you have completing the ${e} version of the typing task?`,name:`fun_${e}`,labels:ke},{prompt:`How <strong>entertaining</strong> was the ${e} version of the typing task?`,name:`entertaining_${e}`,labels:Te}],this.randomize_question_order=!1,this.scale_width=700},Ci=function(e){this.type=_e,this.preamble=`<div style='padding-top: 50px; width: 850px; font-size:16px'>

    <p>Below are a few final questions about the ${e} version of the typing task.</p>
    <p>These questions ask about feelings of <strong>anxiety</strong>.<br>Report how <strong>anxious</strong> you felt during the ${e} version of the typing task by answering the following questions.</p></div>`,this.questions=[{prompt:`How <strong>anxious</strong> did you feel during the ${e} version of the typing task?`,name:`anxious_${e}`,labels:Te},{prompt:`How <strong>stressed</strong> did you feel during the ${e} version of the typing task?`,name:`stressed_${e}`,labels:Te},{prompt:`How <strong>"on edge"</strong> did you feel during the ${e} version of the typing task?`,name:`onEdge_${e}`,labels:Te}],this.randomize_question_order=!1,this.scale_width=700},Io=function(){this.type=_e,this.preamble=`<div style='padding-top: 50px; width: 850px; font-size:16px'>

    <p>Below are a few final questions about <strong>both versions</strong> of the typing task.</p>
    <p>Please rate your agreement with the following statements</p></div>`,this.questions=[{prompt:"I felt like my performance influenced my likelihood of reaching the target score.",name:"control_1",labels:qe},{prompt:"I felt like the harder I tried, the likelier I was to reach the target score.",name:"control_2",labels:qe},{prompt:"I felt like the result of each round would have been the same no matter what I did.",name:"control_3",labels:qe}],this.randomize_question_order=!1,this.scale_width=700},O=[],Eo=()=>!_i(k.images_to_preload.images);O.push(pe({args:k.images_to_preload,conditional_function:Eo}));const Oo=e=>{document.addEventListener("fullscreenchange",Xs)};O.push(pe({args:k.fullscreen,on_start:Oo}));O.push(pe({args:k.consent}));O.push(pe({args:k.practice_instruction}));O.push(new ji(k.practice).getTrial());O.push(Si({condition:k.condition[0],pM:Y,...k.bonus_instruction}));O.push(new Pi({condition:k.condition[0],...k.bonus,first_trial_num:0,multiplierArray:k.multiplierArray,pM:Y}).getTrial());O.push(new Oi("first"));O.push(new Li("first"));O.push(new Ci("first"));O.push(Si({condition:k.condition[1],pM:Y,...k.bonus_instruction_2}));O.push(new Pi({condition:k.condition[1],...k.bonus,first_trial_num:20,multiplierArray:k.multiplierArray,pM:Y}).getTrial());O.push(new Oi("second"));O.push(new Li("second"));O.push(new Ci("second"));O.push(new Io);const Lo=e=>{e.pages=[e.pages]};O.push(pe({args:k.debrief,on_start:Lo}));const Co=e=>{const i=V.data.get().filter({phase:"bonus"}).select("success").values,n=i.slice(0,20).reduce((u,c)=>u+c,0),r=i.slice(20,40).reduce((u,c)=>u+c,0),s=n+r;let o,a;k.condition[0]=="inverse streak"?(o=Y==.2?n*28-(20-n)*2:Y==.5?n*25-(20-n)*5:n*22-(20-n)*8,a=r*20):k.condition[1]=="inverse streak"?(o=n*20,a=Y==.2?r*28-(20-r)*2:Y==.5?r*25-(20-r)*5:r*22-(20-r)*8):(o=n*20,a=r*20);const l=o+a;e.data={totalBonus:l,totalSuccess:s,totalSuccess_1:n,totalSuccess_2:r,totalBonus_1:o,totalBonus_2:a,phase:"last_page",...e.data},e.preamble=e.preamble.replaceAll("${totalBonus}",l.toFixed(0))};O.push(pe({args:k.lastpage,on_start:Co}));k.pipe_data_to_osf&&O.push({type:ue,action:"save",experiment_id:k.osf_id,filename:`${Ei}.csv`,data_string:()=>{const e=V.data.get(),t=no(e);return io([t])}});V.opts.show_progress_bar=k.show_progress_bar;V.opts.experiment_width=k.screenwidth;V.opts.on_finish=()=>{document.body.innerHTML=`
    <div style="font-size:20px; text-align:center; padding:40px;">
      <p>Please enter the following completion code to receive payment:</p>
      <p style="font-weight:bold; font-size:24px; margin-top:20px;">19620</p>
    </div>
  `};V.run(O);
//# sourceMappingURL=index-79c9f36e.js.map
